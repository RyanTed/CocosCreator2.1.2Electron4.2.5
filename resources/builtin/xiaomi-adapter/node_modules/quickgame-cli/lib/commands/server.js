"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _path = _interopRequireDefault(require("path"));

var _quickgameServer = _interopRequireDefault(require("quickgame-server"));

var _webpackConf = _interopRequireDefault(require("../webpack-conf"));

module.exports = function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var mode = arguments.length > 1 ? arguments[1] : undefined;
  var webpackMode = mode === 'prod' ? 'production' : 'development';
  var config = (0, _webpackConf["default"])(options, webpackMode);
  var port = options.port;
  var packageName = config.exOptions.appPackageName;

  var clientLogPath = _path["default"].join(__dirname, '../../client.json');

  (0, _quickgameServer["default"])({
    port: port,
    packageName: packageName,
    clientLogPath: clientLogPath
  });
};