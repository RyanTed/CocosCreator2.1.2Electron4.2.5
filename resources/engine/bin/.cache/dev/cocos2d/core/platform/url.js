(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/platform/url.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        cc.url = {
            _rawAssets: '',
            normalize: function normalize(url) {
                if (url) {
                    if (url.charCodeAt(0) === 46 && url.charCodeAt(1) === 47) {
                        url = url.slice(2);
                    } else if (url.charCodeAt(0) === 47) {
                        url = url.slice(1);
                    }
                }
                return url;
            },
            raw: function raw(url) {
                if (CC_EDITOR && !this._rawAssets) {
                    cc.errorID(7000);
                    return '';
                }
                url = this.normalize(url);
                if (!url.startsWith('resources/')) {
                    cc.errorID(CC_EDITOR ? 7001 : 7002, url);
                } else {
                    var uuid = cc.loader._getResUuid(url.slice(10), cc.Asset, null, true);
                    if (uuid) {
                        return cc.AssetLibrary.getLibUrlNoExt(uuid, true) + cc.path.extname(url);
                    }
                }
                return this._rawAssets + url;
            },
            _init: function _init(assets) {
                this._rawAssets = cc.path.stripSep(assets) + '/';
            }
        };
        module.exports = cc.url;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVybC5qcyIsIkM6L1VzZXJzL25hbnRhcy9maXJlYmFsbC14L2ZiXzIxLXJlbGVhc2UvZW5naW5lL2NvY29zMmQvY29yZS9wbGF0Zm9ybS91cmwuanMiXSwibmFtZXMiOlsiY2MiLCJ1cmwiLCJfcmF3QXNzZXRzIiwibm9ybWFsaXplIiwiY2hhckNvZGVBdCIsInNsaWNlIiwicmF3IiwiQ0NfRURJVE9SIiwiZXJyb3JJRCIsInN0YXJ0c1dpdGgiLCJ1dWlkIiwibG9hZGVyIiwiX2dldFJlc1V1aWQiLCJBc3NldCIsIkFzc2V0TGlicmFyeSIsImdldExpYlVybE5vRXh0IiwicGF0aCIsImV4dG5hbWUiLCJfaW5pdCIsImFzc2V0cyIsInN0cmlwU2VwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjtJQUFBLElBQUEsT0FBQSxHQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUEsSUFBQSxPQUFBLE9BQUEsS0FBQSxXQUFBOzs7Ozs7Ozs7Ozs7O1FBOEJBQSxFQUFBQSxDQUFHQyxHQUFIRCxHQUFTO0FBQUEsWUFRTEUsVUFBQUEsRUFBWSxFQVJQO0FBQUEsWUFVTEMsU0FBQUEsRUFBVyxTQUFBLFNBQUEsQ0FBVUYsR0FBVixFQUFlO0FBQUEsZ0JBQ3RCLElBQUlBLEdBQUosRUFBUztBQUFBLG9CQUNMLElBQUlBLEdBQUFBLENBQUlHLFVBQUpILENBQWUsQ0FBZkEsTUFBc0IsRUFBdEJBLElBQTRCQSxHQUFBQSxDQUFJRyxVQUFKSCxDQUFlLENBQWZBLE1BQXNCLEVBQXRELEVBQTBEO0FBQUEsd0JBRXREQSxHQUFBQSxHQUFNQSxHQUFBQSxDQUFJSSxLQUFKSixDQUFVLENBQVZBLENBQU5BLENBRnNEO0FBQUEscUJBQTFELE1BSUssSUFBSUEsR0FBQUEsQ0FBSUcsVUFBSkgsQ0FBZSxDQUFmQSxNQUFzQixFQUExQixFQUE4QjtBQUFBLHdCQUUvQkEsR0FBQUEsR0FBTUEsR0FBQUEsQ0FBSUksS0FBSkosQ0FBVSxDQUFWQSxDQUFOQSxDQUYrQjtBQUFBLHFCQUw5QjtBQUFBLGlCQURhO0FBQUEsZ0JBV3RCLE9BQU9BLEdBQVAsQ0FYc0I7QUFBQSxhQVZyQjtBQUFBLFlBZ0NMSyxHQUFBQSxFQUFLLFNBQUEsR0FBQSxDQUFVTCxHQUFWLEVBQWU7QUFBQSxnQkFDaEIsSUFBSU0sU0FBQUEsSUFBYSxDQUFDLEtBQUtMLFVBQXZCLEVBQW1DO0FBQUEsb0JBQy9CRixFQUFBQSxDQUFHUSxPQUFIUixDQUFXLElBQVhBLEVBRCtCO0FBQUEsb0JBRS9CLE9BQU8sRUFBUCxDQUYrQjtBQUFBLGlCQURuQjtBQUFBLGdCQU1oQkMsR0FBQUEsR0FBTSxLQUFLRSxTQUFMLENBQWVGLEdBQWYsQ0FBTkEsQ0FOZ0I7QUFBQSxnQkFRaEIsSUFBSyxDQUFDQSxHQUFBQSxDQUFJUSxVQUFKUixDQUFlLFlBQWZBLENBQU4sRUFBcUM7QUFBQSxvQkFDakNELEVBQUFBLENBQUdRLE9BQUhSLENBQVdPLFNBQUFBLEdBQVksSUFBWkEsR0FBbUIsSUFBOUJQLEVBQW9DQyxHQUFwQ0QsRUFEaUM7QUFBQSxpQkFBckMsTUFHSztBQUFBLG9CQUVELElBQUlVLElBQUFBLEdBQU9WLEVBQUFBLENBQUdXLE1BQUhYLENBQVVZLFdBQVZaLENBQXNCQyxHQUFBQSxDQUFJSSxLQUFKSixDQUFVLEVBQVZBLENBQXRCRCxFQUFxQ0EsRUFBQUEsQ0FBR2EsS0FBeENiLEVBQStDLElBQS9DQSxFQUFxRCxJQUFyREEsQ0FBWCxDQUZDO0FBQUEsb0JBR0QsSUFBSVUsSUFBSixFQUFVO0FBQUEsd0JBQ04sT0FBT1YsRUFBQUEsQ0FBR2MsWUFBSGQsQ0FBZ0JlLGNBQWhCZixDQUErQlUsSUFBL0JWLEVBQXFDLElBQXJDQSxJQUE2Q0EsRUFBQUEsQ0FBR2dCLElBQUhoQixDQUFRaUIsT0FBUmpCLENBQWdCQyxHQUFoQkQsQ0FBcEQsQ0FETTtBQUFBLHFCQUhUO0FBQUEsaUJBWFc7QUFBQSxnQkFtQmhCLE9BQU8sS0FBS0UsVUFBTCxHQUFrQkQsR0FBekIsQ0FuQmdCO0FBQUEsYUFoQ2Y7QUFBQSxZQXNETGlCLEtBQUFBLEVBQU8sU0FBQSxLQUFBLENBQVVDLE1BQVYsRUFBa0I7QUFBQSxnQkFDckIsS0FBS2pCLFVBQUwsR0FBa0JGLEVBQUFBLENBQUdnQixJQUFIaEIsQ0FBUW9CLFFBQVJwQixDQUFpQm1CLE1BQWpCbkIsSUFBMkIsR0FBN0MsQ0FEcUI7QUFBQSxhQXREcEI7QUFBQSxTQUFUQTtRQTJEQXFCLE1BQUFBLENBQU9DLE9BQVBELEdBQWlCckIsRUFBQUEsQ0FBR0MsR0FBcEJvQiIsImZpbGUiOiJ1cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gQ29weXJpZ2h0IChjKSAyMDEzLTIwMTYgQ2h1a29uZyBUZWNobm9sb2dpZXMgSW5jLlxyXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxyXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiAgbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcclxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQGNsYXNzIHVybFxyXG4gKiBAc3RhdGljXHJcbiAqL1xyXG5jYy51cmwgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYmFzZSB1cmwgb2YgcmF3IGFzc2V0cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBfcmF3QXNzZXRzXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJlYWRPbmx5XHJcbiAgICAgKi9cclxuICAgIF9yYXdBc3NldHM6ICcnLFxyXG4gICAgXHJcbiAgICBub3JtYWxpemU6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgICAgIGlmICh1cmwuY2hhckNvZGVBdCgwKSA9PT0gNDYgJiYgdXJsLmNoYXJDb2RlQXQoMSkgPT09IDQ3KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCAnLi8nXHJcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodXJsLmNoYXJDb2RlQXQoMCkgPT09IDQ3KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCAnLydcclxuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zbGljZSgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHVybCBvZiByYXcgYXNzZXRzLCB5b3Ugd2lsbCBvbmx5IG5lZWQgdGhpcyBpZiB0aGUgcmF3IGFzc2V0IGlzIGluc2lkZSB0aGUgXCJyZXNvdXJjZXNcIiBmb2xkZXIuXHJcbiAgICAgKiBcclxuICAgICAqIEBtZXRob2QgcmF3XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICAgKiBAZXhhbXBsZSB7QGxpbmsgY29jb3MyZC9jb3JlL3BsYXRmb3JtL3VybC9yYXcuanN9XHJcbiAgICAgKi9cclxuICAgIHJhdzogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIGlmIChDQ19FRElUT1IgJiYgIXRoaXMuX3Jhd0Fzc2V0cykge1xyXG4gICAgICAgICAgICBjYy5lcnJvcklEKDcwMDApO1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cmwgPSB0aGlzLm5vcm1hbGl6ZSh1cmwpO1xyXG5cclxuICAgICAgICBpZiAoICF1cmwuc3RhcnRzV2l0aCgncmVzb3VyY2VzLycpICkge1xyXG4gICAgICAgICAgICBjYy5lcnJvcklEKENDX0VESVRPUiA/IDcwMDEgOiA3MDAyLCB1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ29tcGF0aWJsZSB3aXRoIHZlcnNpb25zIGxvd2VyIHRoYW4gMS4xMFxyXG4gICAgICAgICAgICB2YXIgdXVpZCA9IGNjLmxvYWRlci5fZ2V0UmVzVXVpZCh1cmwuc2xpY2UoMTApLCBjYy5Bc3NldCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICh1dWlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2MuQXNzZXRMaWJyYXJ5LmdldExpYlVybE5vRXh0KHV1aWQsIHRydWUpICsgY2MucGF0aC5leHRuYW1lKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd0Fzc2V0cyArIHVybDtcclxuICAgIH0sXHJcblxyXG4gICAgX2luaXQ6IGZ1bmN0aW9uIChhc3NldHMpIHtcclxuICAgICAgICB0aGlzLl9yYXdBc3NldHMgPSBjYy5wYXRoLnN0cmlwU2VwKGFzc2V0cykgKyAnLyc7XHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNjLnVybDtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gQ29weXJpZ2h0IChjKSAyMDEzLTIwMTYgQ2h1a29uZyBUZWNobm9sb2dpZXMgSW5jLlxyXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxyXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiAgbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcclxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxyXG4gKiBAY2xhc3MgdXJsXHJcbiAqIEBzdGF0aWNcclxuICovXG5jYy51cmwgPSB7XG5cbiAgICAvKipcclxuICAgICAqIFRoZSBiYXNlIHVybCBvZiByYXcgYXNzZXRzLlxyXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IF9yYXdBc3NldHNcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcmVhZE9ubHlcclxuICAgICAqL1xuICAgIF9yYXdBc3NldHM6ICcnLFxuXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUodXJsKSB7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIGlmICh1cmwuY2hhckNvZGVBdCgwKSA9PT0gNDYgJiYgdXJsLmNoYXJDb2RlQXQoMSkgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgJy4vJ1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zbGljZSgyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsLmNoYXJDb2RlQXQoMCkgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgJy8nXG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdXJsIG9mIHJhdyBhc3NldHMsIHlvdSB3aWxsIG9ubHkgbmVlZCB0aGlzIGlmIHRoZSByYXcgYXNzZXQgaXMgaW5zaWRlIHRoZSBcInJlc291cmNlc1wiIGZvbGRlci5cclxuICAgICAqIFxyXG4gICAgICogQG1ldGhvZCByYXdcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcclxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cclxuICAgICAqIEBleGFtcGxlIHtAbGluayBjb2NvczJkL2NvcmUvcGxhdGZvcm0vdXJsL3Jhdy5qc31cclxuICAgICAqL1xuICAgIHJhdzogZnVuY3Rpb24gcmF3KHVybCkge1xuICAgICAgICBpZiAoQ0NfRURJVE9SICYmICF0aGlzLl9yYXdBc3NldHMpIHtcbiAgICAgICAgICAgIGNjLmVycm9ySUQoNzAwMCk7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgPSB0aGlzLm5vcm1hbGl6ZSh1cmwpO1xuXG4gICAgICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoJ3Jlc291cmNlcy8nKSkge1xuICAgICAgICAgICAgY2MuZXJyb3JJRChDQ19FRElUT1IgPyA3MDAxIDogNzAwMiwgdXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENvbXBhdGlibGUgd2l0aCB2ZXJzaW9ucyBsb3dlciB0aGFuIDEuMTBcbiAgICAgICAgICAgIHZhciB1dWlkID0gY2MubG9hZGVyLl9nZXRSZXNVdWlkKHVybC5zbGljZSgxMCksIGNjLkFzc2V0LCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh1dWlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLkFzc2V0TGlicmFyeS5nZXRMaWJVcmxOb0V4dCh1dWlkLCB0cnVlKSArIGNjLnBhdGguZXh0bmFtZSh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd0Fzc2V0cyArIHVybDtcbiAgICB9LFxuXG4gICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KGFzc2V0cykge1xuICAgICAgICB0aGlzLl9yYXdBc3NldHMgPSBjYy5wYXRoLnN0cmlwU2VwKGFzc2V0cykgKyAnLyc7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYy51cmw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJblZ5YkM1cWN5SmRMQ0p1WVcxbGN5STZXeUpqWXlJc0luVnliQ0lzSWw5eVlYZEJjM05sZEhNaUxDSnViM0p0WVd4cGVtVWlMQ0pqYUdGeVEyOWtaVUYwSWl3aWMyeHBZMlVpTENKeVlYY2lMQ0pEUTE5RlJFbFVUMUlpTENKbGNuSnZja2xFSWl3aWMzUmhjblJ6VjJsMGFDSXNJblYxYVdRaUxDSnNiMkZrWlhJaUxDSmZaMlYwVW1WelZYVnBaQ0lzSWtGemMyVjBJaXdpUVhOelpYUk1hV0p5WVhKNUlpd2laMlYwVEdsaVZYSnNUbTlGZUhRaUxDSndZWFJvSWl3aVpYaDBibUZ0WlNJc0lsOXBibWwwSWl3aVlYTnpaWFJ6SWl3aWMzUnlhWEJUWlhBaUxDSnRiMlIxYkdVaUxDSmxlSEJ2Y25SeklsMHNJbTFoY0hCcGJtZHpJam9pT3p0QlFVRkJPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRVEJDUVRzN096dEJRVWxCUVN4SFFVRkhReXhIUVVGSUxFZEJRVk03TzBGQlJVdzdPenM3T3p0QlFVMUJReXhuUWtGQldTeEZRVkpRT3p0QlFWVk1ReXhsUVVGWExHMUNRVUZWUml4SFFVRldMRVZCUVdVN1FVRkRkRUlzV1VGQlNVRXNSMEZCU2l4RlFVRlRPMEZCUTB3c1owSkJRVWxCTEVsQlFVbEhMRlZCUVVvc1EwRkJaU3hEUVVGbUxFMUJRWE5DTEVWQlFYUkNMRWxCUVRSQ1NDeEpRVUZKUnl4VlFVRktMRU5CUVdVc1EwRkJaaXhOUVVGelFpeEZRVUYwUkN4RlFVRXdSRHRCUVVOMFJEdEJRVU5CU0N4elFrRkJUVUVzU1VGQlNVa3NTMEZCU2l4RFFVRlZMRU5CUVZZc1EwRkJUanRCUVVOSUxHRkJTRVFzVFVGSlN5eEpRVUZKU2l4SlFVRkpSeXhWUVVGS0xFTkJRV1VzUTBGQlppeE5RVUZ6UWl4RlFVRXhRaXhGUVVFNFFqdEJRVU12UWp0QlFVTkJTQ3h6UWtGQlRVRXNTVUZCU1Vrc1MwRkJTaXhEUVVGVkxFTkJRVllzUTBGQlRqdEJRVU5JTzBGQlEwbzdRVUZEUkN4bFFVRlBTaXhIUVVGUU8wRkJRMGdzUzBGMFFrazdPMEZCZDBKTU96czdPenM3T3p0QlFWRkJTeXhUUVVGTExHRkJRVlZNTEVkQlFWWXNSVUZCWlR0QlFVTm9RaXhaUVVGSlRTeGhRVUZoTEVOQlFVTXNTMEZCUzB3c1ZVRkJka0lzUlVGQmJVTTdRVUZETDBKR0xHVkJRVWRSTEU5QlFVZ3NRMEZCVnl4SlFVRllPMEZCUTBFc2JVSkJRVThzUlVGQlVEdEJRVU5JT3p0QlFVVkVVQ3hqUVVGTkxFdEJRVXRGTEZOQlFVd3NRMEZCWlVZc1IwRkJaaXhEUVVGT096dEJRVVZCTEZsQlFVc3NRMEZCUTBFc1NVRkJTVkVzVlVGQlNpeERRVUZsTEZsQlFXWXNRMEZCVGl4RlFVRnhRenRCUVVOcVExUXNaVUZCUjFFc1QwRkJTQ3hEUVVGWFJDeFpRVUZaTEVsQlFWb3NSMEZCYlVJc1NVRkJPVUlzUlVGQmIwTk9MRWRCUVhCRE8wRkJRMGdzVTBGR1JDeE5RVWRMTzBGQlEwUTdRVUZEUVN4blFrRkJTVk1zVDBGQlQxWXNSMEZCUjFjc1RVRkJTQ3hEUVVGVlF5eFhRVUZXTEVOQlFYTkNXQ3hKUVVGSlNTeExRVUZLTEVOQlFWVXNSVUZCVml4RFFVRjBRaXhGUVVGeFEwd3NSMEZCUjJFc1MwRkJlRU1zUlVGQkswTXNTVUZCTDBNc1JVRkJjVVFzU1VGQmNrUXNRMEZCV0R0QlFVTkJMR2RDUVVGSlNDeEpRVUZLTEVWQlFWVTdRVUZEVGl4MVFrRkJUMVlzUjBGQlIyTXNXVUZCU0N4RFFVRm5Ra01zWTBGQmFFSXNRMEZCSzBKTUxFbEJRUzlDTEVWQlFYRkRMRWxCUVhKRExFbEJRVFpEVml4SFFVRkhaMElzU1VGQlNDeERRVUZSUXl4UFFVRlNMRU5CUVdkQ2FFSXNSMEZCYUVJc1EwRkJjRVE3UVVGRFNEdEJRVU5LT3p0QlFVVkVMR1ZCUVU4c1MwRkJTME1zVlVGQlRDeEhRVUZyUWtRc1IwRkJla0k3UVVGRFNDeExRWEJFU1RzN1FVRnpSRXhwUWl4WFFVRlBMR1ZCUVZWRExFMUJRVllzUlVGQmEwSTdRVUZEY2tJc1lVRkJTMnBDTEZWQlFVd3NSMEZCYTBKR0xFZEJRVWRuUWl4SlFVRklMRU5CUVZGSkxGRkJRVklzUTBGQmFVSkVMRTFCUVdwQ0xFbEJRVEpDTEVkQlFUZERPMEZCUTBnN1FVRjRSRWtzUTBGQlZEczdRVUV5UkVGRkxFOUJRVTlETEU5QlFWQXNSMEZCYVVKMFFpeEhRVUZIUXl4SFFVRndRaUlzSW1acGJHVWlPaUoxY213dWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2S2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtseHlYRzRnUTI5d2VYSnBaMmgwSUNoaktTQXlNREV6TFRJd01UWWdRMmgxYTI5dVp5QlVaV05vYm05c2IyZHBaWE1nU1c1akxseHlYRzRnUTI5d2VYSnBaMmgwSUNoaktTQXlNREUzTFRJd01UZ2dXR2xoYldWdUlGbGhhbWtnVTI5bWRIZGhjbVVnUTI4dUxDQk1kR1F1WEhKY2JseHlYRzRnYUhSMGNITTZMeTkzZDNjdVkyOWpiM011WTI5dEwxeHlYRzVjY2x4dUlGQmxjbTFwYzNOcGIyNGdhWE1nYUdWeVpXSjVJR2R5WVc1MFpXUXNJR1p5WldVZ2IyWWdZMmhoY21kbExDQjBieUJoYm5rZ2NHVnljMjl1SUc5aWRHRnBibWx1WnlCaElHTnZjSGxjY2x4dUlHOW1JSFJvYVhNZ2MyOW1kSGRoY21VZ1lXNWtJR0Z6YzI5amFXRjBaV1FnWlc1bmFXNWxJSE52ZFhKalpTQmpiMlJsSUNoMGFHVWdYQ0pUYjJaMGQyRnlaVndpS1N3Z1lTQnNhVzFwZEdWa0xGeHlYRzRnSUhkdmNteGtkMmxrWlN3Z2NtOTVZV3gwZVMxbWNtVmxMQ0J1YjI0dFlYTnphV2R1WVdKc1pTd2djbVYyYjJOaFlteGxJR0Z1WkNCdWIyNHRaWGhqYkhWemFYWmxJR3hwWTJWdWMyVmNjbHh1SUhSdklIVnpaU0JEYjJOdmN5QkRjbVZoZEc5eUlITnZiR1ZzZVNCMGJ5QmtaWFpsYkc5d0lHZGhiV1Z6SUc5dUlIbHZkWElnZEdGeVoyVjBJSEJzWVhSbWIzSnRjeTRnV1c5MUlITm9ZV3hzWEhKY2JpQWdibTkwSUhWelpTQkRiMk52Y3lCRGNtVmhkRzl5SUhOdlpuUjNZWEpsSUdadmNpQmtaWFpsYkc5d2FXNW5JRzkwYUdWeUlITnZablIzWVhKbElHOXlJSFJ2YjJ4eklIUm9ZWFFuYzF4eVhHNGdJSFZ6WldRZ1ptOXlJR1JsZG1Wc2IzQnBibWNnWjJGdFpYTXVJRmx2ZFNCaGNtVWdibTkwSUdkeVlXNTBaV1FnZEc4Z2NIVmliR2x6YUN3Z1pHbHpkSEpwWW5WMFpTeGNjbHh1SUNCemRXSnNhV05sYm5ObExDQmhibVF2YjNJZ2MyVnNiQ0JqYjNCcFpYTWdiMllnUTI5amIzTWdRM0psWVhSdmNpNWNjbHh1WEhKY2JpQlVhR1VnYzI5bWRIZGhjbVVnYjNJZ2RHOXZiSE1nYVc0Z2RHaHBjeUJNYVdObGJuTmxJRUZuY21WbGJXVnVkQ0JoY21VZ2JHbGpaVzV6WldRc0lHNXZkQ0J6YjJ4a0xseHlYRzRnV0dsaGJXVnVJRmxoYW1rZ1UyOW1kSGRoY21VZ1EyOHVMQ0JNZEdRdUlISmxjMlZ5ZG1WeklHRnNiQ0J5YVdkb2RITWdibTkwSUdWNGNISmxjM05zZVNCbmNtRnVkR1ZrSUhSdklIbHZkUzVjY2x4dVhISmNiaUJVU0VVZ1UwOUdWRmRCVWtVZ1NWTWdVRkpQVmtsRVJVUWdYQ0pCVXlCSlUxd2lMQ0JYU1ZSSVQxVlVJRmRCVWxKQlRsUlpJRTlHSUVGT1dTQkxTVTVFTENCRldGQlNSVk5USUU5U1hISmNiaUJKVFZCTVNVVkVMQ0JKVGtOTVZVUkpUa2NnUWxWVUlFNVBWQ0JNU1UxSlZFVkVJRlJQSUZSSVJTQlhRVkpTUVU1VVNVVlRJRTlHSUUxRlVrTklRVTVVUVVKSlRFbFVXU3hjY2x4dUlFWkpWRTVGVTFNZ1JrOVNJRUVnVUVGU1ZFbERWVXhCVWlCUVZWSlFUMU5GSUVGT1JDQk9UMDVKVGtaU1NVNUhSVTFGVGxRdUlFbE9JRTVQSUVWV1JVNVVJRk5JUVV4TUlGUklSVnh5WEc0Z1FWVlVTRTlTVXlCUFVpQkRUMUJaVWtsSFNGUWdTRTlNUkVWU1V5QkNSU0JNU1VGQ1RFVWdSazlTSUVGT1dTQkRURUZKVFN3Z1JFRk5RVWRGVXlCUFVpQlBWRWhGVWx4eVhHNGdURWxCUWtsTVNWUlpMQ0JYU0VWVVNFVlNJRWxPSUVGT0lFRkRWRWxQVGlCUFJpQkRUMDVVVWtGRFZDd2dWRTlTVkNCUFVpQlBWRWhGVWxkSlUwVXNJRUZTU1ZOSlRrY2dSbEpQVFN4Y2NseHVJRTlWVkNCUFJpQlBVaUJKVGlCRFQwNU9SVU5VU1U5T0lGZEpWRWdnVkVoRklGTlBSbFJYUVZKRklFOVNJRlJJUlNCVlUwVWdUMUlnVDFSSVJWSWdSRVZCVEVsT1IxTWdTVTVjY2x4dUlGUklSU0JUVDBaVVYwRlNSUzVjY2x4dUlDb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW92WEhKY2JseHlYRzR2S2lwY2NseHVJQ29nUUdOc1lYTnpJSFZ5YkZ4eVhHNGdLaUJBYzNSaGRHbGpYSEpjYmlBcUwxeHlYRzVqWXk1MWNtd2dQU0I3WEhKY2JseHlYRzRnSUNBZ0x5b3FYSEpjYmlBZ0lDQWdLaUJVYUdVZ1ltRnpaU0IxY213Z2IyWWdjbUYzSUdGemMyVjBjeTVjY2x4dUlDQWdJQ0FxSUVCd2NtOXdaWEowZVNCN1QySnFaV04wZlNCZmNtRjNRWE56WlhSelhISmNiaUFnSUNBZ0tpQkFjSEpwZG1GMFpWeHlYRzRnSUNBZ0lDb2dRSEpsWVdSUGJteDVYSEpjYmlBZ0lDQWdLaTljY2x4dUlDQWdJRjl5WVhkQmMzTmxkSE02SUNjbkxGeHlYRzRnSUNBZ1hISmNiaUFnSUNCdWIzSnRZV3hwZW1VNklHWjFibU4wYVc5dUlDaDFjbXdwSUh0Y2NseHVJQ0FnSUNBZ0lDQnBaaUFvZFhKc0tTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gxY213dVkyaGhja052WkdWQmRDZ3dLU0E5UFQwZ05EWWdKaVlnZFhKc0xtTm9ZWEpEYjJSbFFYUW9NU2tnUFQwOUlEUTNLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QnpkSEpwY0NBbkxpOG5YSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IxY213Z1BTQjFjbXd1YzJ4cFkyVW9NaWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSDFjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdaV3h6WlNCcFppQW9kWEpzTG1Ob1lYSkRiMlJsUVhRb01Da2dQVDA5SURRM0tTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0F2THlCemRISnBjQ0FuTHlkY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIVnliQ0E5SUhWeWJDNXpiR2xqWlNneEtUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHlYRzRnSUNBZ0lDQWdJSDFjY2x4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnZFhKc08xeHlYRzRnSUNBZ2ZTeGNjbHh1WEhKY2JpQWdJQ0F2S2lwY2NseHVJQ0FnSUNBcUlGSmxkSFZ5Ym5NZ2RHaGxJSFZ5YkNCdlppQnlZWGNnWVhOelpYUnpMQ0I1YjNVZ2QybHNiQ0J2Ym14NUlHNWxaV1FnZEdocGN5QnBaaUIwYUdVZ2NtRjNJR0Z6YzJWMElHbHpJR2x1YzJsa1pTQjBhR1VnWENKeVpYTnZkWEpqWlhOY0lpQm1iMnhrWlhJdVhISmNiaUFnSUNBZ0tpQmNjbHh1SUNBZ0lDQXFJRUJ0WlhSb2IyUWdjbUYzWEhKY2JpQWdJQ0FnS2lCQWNHRnlZVzBnZTFOMGNtbHVaMzBnZFhKc1hISmNiaUFnSUNBZ0tpQkFjbVYwZFhKdUlIdFRkSEpwYm1kOVhISmNiaUFnSUNBZ0tpQkFaWGhoYlhCc1pTQjdRR3hwYm1zZ1kyOWpiM015WkM5amIzSmxMM0JzWVhSbWIzSnRMM1Z5YkM5eVlYY3Vhbk45WEhKY2JpQWdJQ0FnS2k5Y2NseHVJQ0FnSUhKaGR6b2dablZ1WTNScGIyNGdLSFZ5YkNrZ2UxeHlYRzRnSUNBZ0lDQWdJR2xtSUNoRFExOUZSRWxVVDFJZ0ppWWdJWFJvYVhNdVgzSmhkMEZ6YzJWMGN5a2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpZeTVsY25KdmNrbEVLRGN3TURBcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnSnljN1hISmNiaUFnSUNBZ0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUNBZ0lDQjFjbXdnUFNCMGFHbHpMbTV2Y20xaGJHbDZaU2gxY213cE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNCcFppQW9JQ0YxY213dWMzUmhjblJ6VjJsMGFDZ25jbVZ6YjNWeVkyVnpMeWNwSUNrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCall5NWxjbkp2Y2tsRUtFTkRYMFZFU1ZSUFVpQS9JRGN3TURFZ09pQTNNREF5TENCMWNtd3BPMXh5WEc0Z0lDQWdJQ0FnSUgxY2NseHVJQ0FnSUNBZ0lDQmxiSE5sSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z1EyOXRjR0YwYVdKc1pTQjNhWFJvSUhabGNuTnBiMjV6SUd4dmQyVnlJSFJvWVc0Z01TNHhNRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnZFhWcFpDQTlJR05qTG14dllXUmxjaTVmWjJWMFVtVnpWWFZwWkNoMWNtd3VjMnhwWTJVb01UQXBMQ0JqWXk1QmMzTmxkQ3dnYm5Wc2JDd2dkSEoxWlNrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDFkV2xrS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z1kyTXVRWE56WlhSTWFXSnlZWEo1TG1kbGRFeHBZbFZ5YkU1dlJYaDBLSFYxYVdRc0lIUnlkV1VwSUNzZ1kyTXVjR0YwYUM1bGVIUnVZVzFsS0hWeWJDazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUNBZ1hISmNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11WDNKaGQwRnpjMlYwY3lBcklIVnliRHRjY2x4dUlDQWdJSDBzWEhKY2JseHlYRzRnSUNBZ1gybHVhWFE2SUdaMWJtTjBhVzl1SUNoaGMzTmxkSE1wSUh0Y2NseHVJQ0FnSUNBZ0lDQjBhR2x6TGw5eVlYZEJjM05sZEhNZ1BTQmpZeTV3WVhSb0xuTjBjbWx3VTJWd0tHRnpjMlYwY3lrZ0t5QW5MeWM3WEhKY2JpQWdJQ0I5WEhKY2JuMDdYSEpjYmx4eVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlHTmpMblZ5YkR0Y2NseHVJbDE5Il19