(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/renderer/canvas/renderers/label/index.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var Label = require('../../../../components/CCLabel');
        var ttf = require('./ttf');
        var bmfont = require('./bmfont');
        var canvasPool = {
            pool: [],
            get: function get() {
                var data = this.pool.pop();
                if (!data) {
                    var canvas = document.createElement('canvas');
                    var context = canvas.getContext('2d');
                    data = {
                        canvas: canvas,
                        context: context
                    };
                }
                return data;
            },
            put: function put(canvas) {
                if (this.pool.length >= 32) {
                    return;
                }
                this.pool.push(canvas);
            }
        };
        Label._canvasPool = canvasPool;
        module.exports = {
            getAssembler: function getAssembler(comp) {
                var assembler = ttf;
                if (comp.font instanceof cc.BitmapFont) {
                    assembler = bmfont;
                }
                return assembler;
            },
            createData: function createData(comp) {
                return comp._assembler.createData(comp);
            },
            draw: function draw(ctx, comp) {
                if (!comp._texture) {
                    return 0;
                }
                var assembler = comp._assembler;
                if (!assembler)
                    return 0;
                assembler.updateRenderData(comp);
                return assembler.draw(ctx, comp);
            }
        };
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiQzovVXNlcnMvbmFudGFzL2ZpcmViYWxsLXgvZmJfMjEtcmVsZWFzZS9lbmdpbmUvY29jb3MyZC9jb3JlL3JlbmRlcmVyL2NhbnZhcy9yZW5kZXJlcnMvbGFiZWwvaW5kZXguanMiXSwibmFtZXMiOlsiTGFiZWwiLCJyZXF1aXJlIiwidHRmIiwiYm1mb250IiwiY2FudmFzUG9vbCIsInBvb2wiLCJnZXQiLCJkYXRhIiwicG9wIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJwdXQiLCJsZW5ndGgiLCJwdXNoIiwiX2NhbnZhc1Bvb2wiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0QXNzZW1ibGVyIiwiY29tcCIsImFzc2VtYmxlciIsImZvbnQiLCJjYyIsIkJpdG1hcEZvbnQiLCJjcmVhdGVEYXRhIiwiX2Fzc2VtYmxlciIsImRyYXciLCJjdHgiLCJfdGV4dHVyZSIsInVwZGF0ZVJlbmRlckRhdGEiXSwibWFwcGluZ3MiOiI7SUFBQSxJQUFBLE9BQUEsR0FBQSxPQUFBLE9BQUEsS0FBQSxXQUFBLElBQUEsT0FBQSxPQUFBLEtBQUEsV0FBQTs7Ozs7Ozs7Ozs7OztRQXdCQSxJQUFNQSxLQUFBQSxHQUFRQyxPQUFBQSxDQUFRLGdDQUFSQSxDQUFkO1FBQ0EsSUFBTUMsR0FBQUEsR0FBTUQsT0FBQUEsQ0FBUSxPQUFSQSxDQUFaO1FBQ0EsSUFBTUUsTUFBQUEsR0FBU0YsT0FBQUEsQ0FBUSxVQUFSQSxDQUFmO1FBRUEsSUFBSUcsVUFBQUEsR0FBYTtBQUFBLFlBQ2JDLElBQUFBLEVBQU0sRUFETztBQUFBLFlBRWJDLEdBQUFBLEVBRmEsU0FBQSxHQUFBLEdBRU47QUFBQSxnQkFDSCxJQUFJQyxJQUFBQSxHQUFPLEtBQUtGLElBQUwsQ0FBVUcsR0FBVixFQUFYLENBREc7QUFBQSxnQkFHSCxJQUFJLENBQUNELElBQUwsRUFBVztBQUFBLG9CQUNQLElBQUlFLE1BQUFBLEdBQVNDLFFBQUFBLENBQVNDLGFBQVRELENBQXVCLFFBQXZCQSxDQUFiLENBRE87QUFBQSxvQkFFUCxJQUFJRSxPQUFBQSxHQUFVSCxNQUFBQSxDQUFPSSxVQUFQSixDQUFrQixJQUFsQkEsQ0FBZCxDQUZPO0FBQUEsb0JBR1BGLElBQUFBLEdBQU87QUFBQSx3QkFDSEUsTUFBQUEsRUFBUUEsTUFETDtBQUFBLHdCQUVIRyxPQUFBQSxFQUFTQSxPQUZOO0FBQUEscUJBQVBMLENBSE87QUFBQSxpQkFIUjtBQUFBLGdCQVlILE9BQU9BLElBQVAsQ0FaRztBQUFBLGFBRk07QUFBQSxZQWdCYk8sR0FBQUEsRUFoQmEsU0FBQSxHQUFBLENBZ0JSTCxNQWhCUSxFQWdCQTtBQUFBLGdCQUNULElBQUksS0FBS0osSUFBTCxDQUFVVSxNQUFWLElBQW9CLEVBQXhCLEVBQTRCO0FBQUEsb0JBQ3hCLE9BRHdCO0FBQUEsaUJBRG5CO0FBQUEsZ0JBSVQsS0FBS1YsSUFBTCxDQUFVVyxJQUFWLENBQWVQLE1BQWYsRUFKUztBQUFBLGFBaEJBO0FBQUEsU0FBakI7UUF3QkFULEtBQUFBLENBQU1pQixXQUFOakIsR0FBb0JJLFVBQXBCSjtRQUVBa0IsTUFBQUEsQ0FBT0MsT0FBUEQsR0FBaUI7QUFBQSxZQUNiRSxZQUFBQSxFQURhLFNBQUEsWUFBQSxDQUNDQyxJQURELEVBQ087QUFBQSxnQkFDaEIsSUFBSUMsU0FBQUEsR0FBWXBCLEdBQWhCLENBRGdCO0FBQUEsZ0JBR2hCLElBQUltQixJQUFBQSxDQUFLRSxJQUFMRixZQUFxQkcsRUFBQUEsQ0FBR0MsVUFBNUIsRUFBd0M7QUFBQSxvQkFDcENILFNBQUFBLEdBQVluQixNQUFabUIsQ0FEb0M7QUFBQSxpQkFIeEI7QUFBQSxnQkFPaEIsT0FBT0EsU0FBUCxDQVBnQjtBQUFBLGFBRFA7QUFBQSxZQVdiSSxVQUFBQSxFQVhhLFNBQUEsVUFBQSxDQVdETCxJQVhDLEVBV0s7QUFBQSxnQkFDZCxPQUFPQSxJQUFBQSxDQUFLTSxVQUFMTixDQUFnQkssVUFBaEJMLENBQTJCQSxJQUEzQkEsQ0FBUCxDQURjO0FBQUEsYUFYTDtBQUFBLFlBZWJPLElBQUFBLEVBZmEsU0FBQSxJQUFBLENBZVBDLEdBZk8sRUFlRlIsSUFmRSxFQWVJO0FBQUEsZ0JBRWIsSUFBSSxDQUFDQSxJQUFBQSxDQUFLUyxRQUFWLEVBQW9CO0FBQUEsb0JBQ2hCLE9BQU8sQ0FBUCxDQURnQjtBQUFBLGlCQUZQO0FBQUEsZ0JBTWIsSUFBSVIsU0FBQUEsR0FBWUQsSUFBQUEsQ0FBS00sVUFBckIsQ0FOYTtBQUFBLGdCQU9iLElBQUksQ0FBQ0wsU0FBTDtBQUFBLG9CQUFnQixPQUFPLENBQVAsQ0FQSDtBQUFBLGdCQVNiQSxTQUFBQSxDQUFVUyxnQkFBVlQsQ0FBMkJELElBQTNCQyxFQVRhO0FBQUEsZ0JBVWIsT0FBT0EsU0FBQUEsQ0FBVU0sSUFBVk4sQ0FBZU8sR0FBZlAsRUFBb0JELElBQXBCQyxDQUFQLENBVmE7QUFBQSxhQWZKO0FBQUEsU0FBakJKIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuIENvcHlyaWdodCAoYykgMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cclxuXHJcbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSwgbm9uLWFzc2lnbmFibGUsIHJldm9jYWJsZSBhbmQgbm9uLWV4Y2x1c2l2ZSBsaWNlbnNlXHJcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxyXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXHJcblxyXG4gVGhlIHNvZnR3YXJlIG9yIHRvb2xzIGluIHRoaXMgTGljZW5zZSBBZ3JlZW1lbnQgYXJlIGxpY2Vuc2VkLCBub3Qgc29sZC5cclxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5jb25zdCBMYWJlbCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvQ0NMYWJlbCcpO1xyXG5jb25zdCB0dGYgPSByZXF1aXJlKCcuL3R0ZicpO1xyXG5jb25zdCBibWZvbnQgPSByZXF1aXJlKCcuL2JtZm9udCcpO1xyXG5cclxubGV0IGNhbnZhc1Bvb2wgPSB7XHJcbiAgICBwb29sOiBbXSxcclxuICAgIGdldCAoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnBvb2wucG9wKCk7XHJcblxyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgICAgICBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzOiBjYW52YXMsXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSxcclxuICAgIHB1dCAoY2FudmFzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG9vbC5sZW5ndGggPj0gMzIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBvb2wucHVzaChjYW52YXMpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuTGFiZWwuX2NhbnZhc1Bvb2wgPSBjYW52YXNQb29sO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRBc3NlbWJsZXIgKGNvbXApIHtcclxuICAgICAgICBsZXQgYXNzZW1ibGVyID0gdHRmO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjb21wLmZvbnQgaW5zdGFuY2VvZiBjYy5CaXRtYXBGb250KSB7XHJcbiAgICAgICAgICAgIGFzc2VtYmxlciA9IGJtZm9udDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhc3NlbWJsZXI7XHJcbiAgICB9LFxyXG5cclxuICAgIGNyZWF0ZURhdGEgKGNvbXApIHtcclxuICAgICAgICByZXR1cm4gY29tcC5fYXNzZW1ibGVyLmNyZWF0ZURhdGEoY29tcCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRyYXcgKGN0eCwgY29tcCkge1xyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgbmVlZCB0byByZW5kZXJcclxuICAgICAgICBpZiAoIWNvbXAuX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXNzZW1ibGVyID0gY29tcC5fYXNzZW1ibGVyO1xyXG4gICAgICAgIGlmICghYXNzZW1ibGVyKSByZXR1cm4gMDtcclxuICAgICAgICBcclxuICAgICAgICBhc3NlbWJsZXIudXBkYXRlUmVuZGVyRGF0YShjb21wKTtcclxuICAgICAgICByZXR1cm4gYXNzZW1ibGVyLmRyYXcoY3R4LCBjb21wKTtcclxuICAgIH1cclxufTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiBDb3B5cmlnaHQgKGMpIDIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxyXG4gd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxyXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcclxuIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcclxuIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcclxuIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxyXG5cclxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXHJcbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBMYWJlbCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvQ0NMYWJlbCcpO1xudmFyIHR0ZiA9IHJlcXVpcmUoJy4vdHRmJyk7XG52YXIgYm1mb250ID0gcmVxdWlyZSgnLi9ibWZvbnQnKTtcblxudmFyIGNhbnZhc1Bvb2wgPSB7XG4gICAgcG9vbDogW10sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIHB1dDogZnVuY3Rpb24gcHV0KGNhbnZhcykge1xuICAgICAgICBpZiAodGhpcy5wb29sLmxlbmd0aCA+PSAzMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9vbC5wdXNoKGNhbnZhcyk7XG4gICAgfVxufTtcblxuTGFiZWwuX2NhbnZhc1Bvb2wgPSBjYW52YXNQb29sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBnZXRBc3NlbWJsZXI6IGZ1bmN0aW9uIGdldEFzc2VtYmxlcihjb21wKSB7XG4gICAgICAgIHZhciBhc3NlbWJsZXIgPSB0dGY7XG5cbiAgICAgICAgaWYgKGNvbXAuZm9udCBpbnN0YW5jZW9mIGNjLkJpdG1hcEZvbnQpIHtcbiAgICAgICAgICAgIGFzc2VtYmxlciA9IGJtZm9udDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhc3NlbWJsZXI7XG4gICAgfSxcbiAgICBjcmVhdGVEYXRhOiBmdW5jdGlvbiBjcmVhdGVEYXRhKGNvbXApIHtcbiAgICAgICAgcmV0dXJuIGNvbXAuX2Fzc2VtYmxlci5jcmVhdGVEYXRhKGNvbXApO1xuICAgIH0sXG4gICAgZHJhdzogZnVuY3Rpb24gZHJhdyhjdHgsIGNvbXApIHtcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBuZWVkIHRvIHJlbmRlclxuICAgICAgICBpZiAoIWNvbXAuX3RleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFzc2VtYmxlciA9IGNvbXAuX2Fzc2VtYmxlcjtcbiAgICAgICAgaWYgKCFhc3NlbWJsZXIpIHJldHVybiAwO1xuXG4gICAgICAgIGFzc2VtYmxlci51cGRhdGVSZW5kZXJEYXRhKGNvbXApO1xuICAgICAgICByZXR1cm4gYXNzZW1ibGVyLmRyYXcoY3R4LCBjb21wKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW1sdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYklreGhZbVZzSWl3aWNtVnhkV2x5WlNJc0luUjBaaUlzSW1KdFptOXVkQ0lzSW1OaGJuWmhjMUJ2YjJ3aUxDSndiMjlzSWl3aVoyVjBJaXdpWkdGMFlTSXNJbkJ2Y0NJc0ltTmhiblpoY3lJc0ltUnZZM1Z0Wlc1MElpd2lZM0psWVhSbFJXeGxiV1Z1ZENJc0ltTnZiblJsZUhRaUxDSm5aWFJEYjI1MFpYaDBJaXdpY0hWMElpd2liR1Z1WjNSb0lpd2ljSFZ6YUNJc0lsOWpZVzUyWVhOUWIyOXNJaXdpYlc5a2RXeGxJaXdpWlhod2IzSjBjeUlzSW1kbGRFRnpjMlZ0WW14bGNpSXNJbU52YlhBaUxDSmhjM05sYldKc1pYSWlMQ0ptYjI1MElpd2lZMk1pTENKQ2FYUnRZWEJHYjI1MElpd2lZM0psWVhSbFJHRjBZU0lzSWw5aGMzTmxiV0pzWlhJaUxDSmtjbUYzSWl3aVkzUjRJaXdpWDNSbGVIUjFjbVVpTENKMWNHUmhkR1ZTWlc1a1pYSkVZWFJoSWwwc0ltMWhjSEJwYm1keklqb2lPenRCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGM1FrRXNTVUZCVFVFc1VVRkJVVU1zVVVGQlVTeG5RMEZCVWl4RFFVRmtPMEZCUTBFc1NVRkJUVU1zVFVGQlRVUXNVVUZCVVN4UFFVRlNMRU5CUVZvN1FVRkRRU3hKUVVGTlJTeFRRVUZUUml4UlFVRlJMRlZCUVZJc1EwRkJaanM3UVVGRlFTeEpRVUZKUnl4aFFVRmhPMEZCUTJKRExGVkJRVTBzUlVGRVR6dEJRVVZpUXl4UFFVWmhMR2xDUVVWT08wRkJRMGdzV1VGQlNVTXNUMEZCVHl4TFFVRkxSaXhKUVVGTUxFTkJRVlZITEVkQlFWWXNSVUZCV0RzN1FVRkZRU3haUVVGSkxFTkJRVU5FTEVsQlFVd3NSVUZCVnp0QlFVTlFMR2RDUVVGSlJTeFRRVUZUUXl4VFFVRlRReXhoUVVGVUxFTkJRWFZDTEZGQlFYWkNMRU5CUVdJN1FVRkRRU3huUWtGQlNVTXNWVUZCVlVnc1QwRkJUMGtzVlVGQlVDeERRVUZyUWl4SlFVRnNRaXhEUVVGa08wRkJRMEZPTEcxQ1FVRlBPMEZCUTBoRkxIZENRVUZSUVN4TlFVUk1PMEZCUlVoSExIbENRVUZUUVR0QlFVWk9MR0ZCUVZBN1FVRkpTRHM3UVVGRlJDeGxRVUZQVEN4SlFVRlFPMEZCUTBnc1MwRm1XVHRCUVdkQ1lrOHNUMEZvUW1Fc1pVRm5RbEpNTEUxQmFFSlJMRVZCWjBKQk8wRkJRMVFzV1VGQlNTeExRVUZMU2l4SlFVRk1MRU5CUVZWVkxFMUJRVllzU1VGQmIwSXNSVUZCZUVJc1JVRkJORUk3UVVGRGVFSTdRVUZEU0R0QlFVTkVMR0ZCUVV0V0xFbEJRVXdzUTBGQlZWY3NTVUZCVml4RFFVRmxVQ3hOUVVGbU8wRkJRMGc3UVVGeVFsa3NRMEZCYWtJN08wRkJkMEpCVkN4TlFVRk5hVUlzVjBGQlRpeEhRVUZ2UW1Jc1ZVRkJjRUk3TzBGQlJVRmpMRTlCUVU5RExFOUJRVkFzUjBGQmFVSTdRVUZEWWtNc1owSkJSR0VzZDBKQlEwTkRMRWxCUkVRc1JVRkRUenRCUVVOb1FpeFpRVUZKUXl4WlFVRlpjRUlzUjBGQmFFSTdPMEZCUlVFc1dVRkJTVzFDTEV0QlFVdEZMRWxCUVV3c1dVRkJjVUpETEVkQlFVZERMRlZCUVRWQ0xFVkJRWGRETzBGQlEzQkRTQ3gzUWtGQldXNUNMRTFCUVZvN1FVRkRTRHM3UVVGRlJDeGxRVUZQYlVJc1UwRkJVRHRCUVVOSUxFdEJWRms3UVVGWFlra3NZMEZZWVN4elFrRlhSRXdzU1VGWVF5eEZRVmRMTzBGQlEyUXNaVUZCVDBFc1MwRkJTMDBzVlVGQlRDeERRVUZuUWtRc1ZVRkJhRUlzUTBGQk1rSk1MRWxCUVROQ0xFTkJRVkE3UVVGRFNDeExRV0paTzBGQlpXSlBMRkZCWm1Fc1owSkJaVkJETEVkQlprOHNSVUZsUmxJc1NVRm1SU3hGUVdWSk8wRkJRMkk3UVVGRFFTeFpRVUZKTEVOQlFVTkJMRXRCUVV0VExGRkJRVllzUlVGQmIwSTdRVUZEYUVJc2JVSkJRVThzUTBGQlVEdEJRVU5JT3p0QlFVVkVMRmxCUVVsU0xGbEJRVmxFTEV0QlFVdE5MRlZCUVhKQ08wRkJRMEVzV1VGQlNTeERRVUZEVEN4VFFVRk1MRVZCUVdkQ0xFOUJRVThzUTBGQlVEczdRVUZGYUVKQkxHdENRVUZWVXl4blFrRkJWaXhEUVVFeVFsWXNTVUZCTTBJN1FVRkRRU3hsUVVGUFF5eFZRVUZWVFN4SlFVRldMRU5CUVdWRExFZEJRV1lzUlVGQmIwSlNMRWxCUVhCQ0xFTkJRVkE3UVVGRFNEdEJRVEZDV1N4RFFVRnFRaUlzSW1acGJHVWlPaUpwYm1SbGVDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4cUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FYSEpjYmlCRGIzQjVjbWxuYUhRZ0tHTXBJREl3TVRnZ1dHbGhiV1Z1SUZsaGFta2dVMjltZEhkaGNtVWdRMjh1TENCTWRHUXVYSEpjYmx4eVhHNGdhSFIwY0hNNkx5OTNkM2N1WTI5amIzTXVZMjl0TDF4eVhHNWNjbHh1SUZCbGNtMXBjM05wYjI0Z2FYTWdhR1Z5WldKNUlHZHlZVzUwWldRc0lHWnlaV1VnYjJZZ1kyaGhjbWRsTENCMGJ5QmhibmtnY0dWeWMyOXVJRzlpZEdGcGJtbHVaeUJoSUdOdmNIbGNjbHh1SUc5bUlIUm9hWE1nYzI5bWRIZGhjbVVnWVc1a0lHRnpjMjlqYVdGMFpXUWdaVzVuYVc1bElITnZkWEpqWlNCamIyUmxJQ2gwYUdVZ1hDSlRiMlowZDJGeVpWd2lLU3dnWVNCc2FXMXBkR1ZrTEZ4eVhHNGdkMjl5YkdSM2FXUmxMQ0J5YjNsaGJIUjVMV1p5WldVc0lHNXZiaTFoYzNOcFoyNWhZbXhsTENCeVpYWnZZMkZpYkdVZ1lXNWtJRzV2YmkxbGVHTnNkWE5wZG1VZ2JHbGpaVzV6WlZ4eVhHNGdkRzhnZFhObElFTnZZMjl6SUVOeVpXRjBiM0lnYzI5c1pXeDVJSFJ2SUdSbGRtVnNiM0FnWjJGdFpYTWdiMjRnZVc5MWNpQjBZWEpuWlhRZ2NHeGhkR1p2Y20xekxpQlpiM1VnYzJoaGJHeGNjbHh1SUc1dmRDQjFjMlVnUTI5amIzTWdRM0psWVhSdmNpQnpiMlowZDJGeVpTQm1iM0lnWkdWMlpXeHZjR2x1WnlCdmRHaGxjaUJ6YjJaMGQyRnlaU0J2Y2lCMGIyOXNjeUIwYUdGMEozTmNjbHh1SUhWelpXUWdabTl5SUdSbGRtVnNiM0JwYm1jZ1oyRnRaWE11SUZsdmRTQmhjbVVnYm05MElHZHlZVzUwWldRZ2RHOGdjSFZpYkdsemFDd2daR2x6ZEhKcFluVjBaU3hjY2x4dUlITjFZbXhwWTJWdWMyVXNJR0Z1WkM5dmNpQnpaV3hzSUdOdmNHbGxjeUJ2WmlCRGIyTnZjeUJEY21WaGRHOXlMbHh5WEc1Y2NseHVJRlJvWlNCemIyWjBkMkZ5WlNCdmNpQjBiMjlzY3lCcGJpQjBhR2x6SUV4cFkyVnVjMlVnUVdkeVpXVnRaVzUwSUdGeVpTQnNhV05sYm5ObFpDd2dibTkwSUhOdmJHUXVYSEpjYmlCWWFXRnRaVzRnV1dGcWFTQlRiMlowZDJGeVpTQkRieTRzSUV4MFpDNGdjbVZ6WlhKMlpYTWdZV3hzSUhKcFoyaDBjeUJ1YjNRZ1pYaHdjbVZ6YzJ4NUlHZHlZVzUwWldRZ2RHOGdlVzkxTGx4eVhHNWNjbHh1SUZSSVJTQlRUMFpVVjBGU1JTQkpVeUJRVWs5V1NVUkZSQ0JjSWtGVElFbFRYQ0lzSUZkSlZFaFBWVlFnVjBGU1VrRk9WRmtnVDBZZ1FVNVpJRXRKVGtRc0lFVllVRkpGVTFNZ1QxSmNjbHh1SUVsTlVFeEpSVVFzSUVsT1EweFZSRWxPUnlCQ1ZWUWdUazlVSUV4SlRVbFVSVVFnVkU4Z1ZFaEZJRmRCVWxKQlRsUkpSVk1nVDBZZ1RVVlNRMGhCVGxSQlFrbE1TVlJaTEZ4eVhHNGdSa2xVVGtWVFV5QkdUMUlnUVNCUVFWSlVTVU5WVEVGU0lGQlZVbEJQVTBVZ1FVNUVJRTVQVGtsT1JsSkpUa2RGVFVWT1ZDNGdTVTRnVGs4Z1JWWkZUbFFnVTBoQlRFd2dWRWhGWEhKY2JpQkJWVlJJVDFKVElFOVNJRU5QVUZsU1NVZElWQ0JJVDB4RVJWSlRJRUpGSUV4SlFVSk1SU0JHVDFJZ1FVNVpJRU5NUVVsTkxDQkVRVTFCUjBWVElFOVNJRTlVU0VWU1hISmNiaUJNU1VGQ1NVeEpWRmtzSUZkSVJWUklSVklnU1U0Z1FVNGdRVU5VU1U5T0lFOUdJRU5QVGxSU1FVTlVMQ0JVVDFKVUlFOVNJRTlVU0VWU1YwbFRSU3dnUVZKSlUwbE9SeUJHVWs5TkxGeHlYRzRnVDFWVUlFOUdJRTlTSUVsT0lFTlBUazVGUTFSSlQwNGdWMGxVU0NCVVNFVWdVMDlHVkZkQlVrVWdUMUlnVkVoRklGVlRSU0JQVWlCUFZFaEZVaUJFUlVGTVNVNUhVeUJKVGx4eVhHNGdWRWhGSUZOUFJsUlhRVkpGTGx4eVhHNGdLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2k5Y2NseHVZMjl1YzNRZ1RHRmlaV3dnUFNCeVpYRjFhWEpsS0NjdUxpOHVMaTh1TGk4dUxpOWpiMjF3YjI1bGJuUnpMME5EVEdGaVpXd25LVHRjY2x4dVkyOXVjM1FnZEhSbUlEMGdjbVZ4ZFdseVpTZ25MaTkwZEdZbktUdGNjbHh1WTI5dWMzUWdZbTFtYjI1MElEMGdjbVZ4ZFdseVpTZ25MaTlpYldadmJuUW5LVHRjY2x4dVhISmNibXhsZENCallXNTJZWE5RYjI5c0lEMGdlMXh5WEc0Z0lDQWdjRzl2YkRvZ1cxMHNYSEpjYmlBZ0lDQm5aWFFnS0NrZ2UxeHlYRzRnSUNBZ0lDQWdJR3hsZENCa1lYUmhJRDBnZEdocGN5NXdiMjlzTG5CdmNDZ3BPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQnBaaUFvSVdSaGRHRXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdiR1YwSUdOaGJuWmhjeUE5SUdSdlkzVnRaVzUwTG1OeVpXRjBaVVZzWlcxbGJuUW9YQ0pqWVc1MllYTmNJaWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR3hsZENCamIyNTBaWGgwSUQwZ1kyRnVkbUZ6TG1kbGRFTnZiblJsZUhRb1hDSXlaRndpS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnWkdGMFlTQTlJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdOaGJuWmhjem9nWTJGdWRtRnpMRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkRG9nWTI5dWRHVjRkRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJQ0FnZlZ4eVhHNWNjbHh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdaR0YwWVR0Y2NseHVJQ0FnSUgwc1hISmNiaUFnSUNCd2RYUWdLR05oYm5aaGN5a2dlMXh5WEc0Z0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG5CdmIyd3ViR1Z1WjNSb0lENDlJRE15S1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnlianRjY2x4dUlDQWdJQ0FnSUNCOVhISmNiaUFnSUNBZ0lDQWdkR2hwY3k1d2IyOXNMbkIxYzJnb1kyRnVkbUZ6S1R0Y2NseHVJQ0FnSUgxY2NseHVmVHRjY2x4dVhISmNia3hoWW1Wc0xsOWpZVzUyWVhOUWIyOXNJRDBnWTJGdWRtRnpVRzl2YkR0Y2NseHVYSEpjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnZTF4eVhHNGdJQ0FnWjJWMFFYTnpaVzFpYkdWeUlDaGpiMjF3S1NCN1hISmNiaUFnSUNBZ0lDQWdiR1YwSUdGemMyVnRZbXhsY2lBOUlIUjBaanRjY2x4dUlDQWdJQ0FnSUNCY2NseHVJQ0FnSUNBZ0lDQnBaaUFvWTI5dGNDNW1iMjUwSUdsdWMzUmhibU5sYjJZZ1kyTXVRbWwwYldGd1JtOXVkQ2tnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JoYzNObGJXSnNaWElnUFNCaWJXWnZiblE3WEhKY2JpQWdJQ0FnSUNBZ2ZWeHlYRzVjY2x4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnWVhOelpXMWliR1Z5TzF4eVhHNGdJQ0FnZlN4Y2NseHVYSEpjYmlBZ0lDQmpjbVZoZEdWRVlYUmhJQ2hqYjIxd0tTQjdYSEpjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJR052YlhBdVgyRnpjMlZ0WW14bGNpNWpjbVZoZEdWRVlYUmhLR052YlhBcE8xeHlYRzRnSUNBZ2ZTeGNjbHh1WEhKY2JpQWdJQ0JrY21GM0lDaGpkSGdzSUdOdmJYQXBJSHRjY2x4dUlDQWdJQ0FnSUNBdkx5QkRhR1ZqYXlCM2FHVjBhR1Z5SUc1bFpXUWdkRzhnY21WdVpHVnlYSEpjYmlBZ0lDQWdJQ0FnYVdZZ0tDRmpiMjF3TGw5MFpYaDBkWEpsS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUF3TzF4eVhHNGdJQ0FnSUNBZ0lIMWNjbHh1WEhKY2JpQWdJQ0FnSUNBZ2JHVjBJR0Z6YzJWdFlteGxjaUE5SUdOdmJYQXVYMkZ6YzJWdFlteGxjanRjY2x4dUlDQWdJQ0FnSUNCcFppQW9JV0Z6YzJWdFlteGxjaWtnY21WMGRYSnVJREE3WEhKY2JpQWdJQ0FnSUNBZ1hISmNiaUFnSUNBZ0lDQWdZWE56WlcxaWJHVnlMblZ3WkdGMFpWSmxibVJsY2tSaGRHRW9ZMjl0Y0NrN1hISmNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlHRnpjMlZ0WW14bGNpNWtjbUYzS0dOMGVDd2dZMjl0Y0NrN1hISmNiaUFnSUNCOVhISmNibjA3SWwxOSJdfQ==