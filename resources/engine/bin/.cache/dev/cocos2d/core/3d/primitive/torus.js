(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/3d/primitive/torus.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.default = function () {
            var radius = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.4;
            var tube = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.1;
            var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
            var radialSegments = opts.radialSegments || 32;
            var tubularSegments = opts.tubularSegments || 32;
            var arc = opts.arc || 2 * Math.PI;
            var positions = [];
            var normals = [];
            var uvs = [];
            var indices = [];
            var minPos = _vmath.vec3.create(-radius - tube, -tube, -radius - tube);
            var maxPos = _vmath.vec3.create(radius + tube, tube, radius + tube);
            var boundingRadius = radius + tube;
            for (var j = 0; j <= radialSegments; j++) {
                for (var i = 0; i <= tubularSegments; i++) {
                    var u = i / tubularSegments;
                    var v = j / radialSegments;
                    var u1 = u * arc;
                    var v1 = v * Math.PI * 2;
                    var x = (radius + tube * Math.cos(v1)) * Math.sin(u1);
                    var y = tube * Math.sin(v1);
                    var z = (radius + tube * Math.cos(v1)) * Math.cos(u1);
                    var nx = Math.sin(u1) * Math.cos(v1);
                    var ny = Math.sin(v1);
                    var nz = Math.cos(u1) * Math.cos(v1);
                    positions.push(x, y, z);
                    normals.push(nx, ny, nz);
                    uvs.push(u, v);
                    if (i < tubularSegments && j < radialSegments) {
                        var seg1 = tubularSegments + 1;
                        var a = seg1 * j + i;
                        var b = seg1 * (j + 1) + i;
                        var c = seg1 * (j + 1) + i + 1;
                        var d = seg1 * j + i + 1;
                        indices.push(a, d, b);
                        indices.push(d, c, b);
                    }
                }
            }
            return new _vertexData2.default(positions, normals, uvs, indices, minPos, maxPos, boundingRadius);
        };
        var _vmath = require('../../vmath');
        var _vertexData = require('./vertex-data');
        var _vertexData2 = _interopRequireDefault(_vertexData);
        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
        }
        module.exports = exports['default'];
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcnVzLmpzIiwiQzovVXNlcnMvbmFudGFzL2ZpcmViYWxsLXgvZmJfMjEtcmVsZWFzZS9lbmdpbmUvY29jb3MyZC9jb3JlLzNkL3ByaW1pdGl2ZS90b3J1cy5qcyJdLCJuYW1lcyI6WyJvcHRzIiwicmFkaWFsU2VnbWVudHMiLCJyYWRpdXMiLCJ0dWJlIiwidHVidWxhclNlZ21lbnRzIiwiYXJjIiwiTWF0aCIsIlBJIiwicG9zaXRpb25zIiwibm9ybWFscyIsInV2cyIsImluZGljZXMiLCJtaW5Qb3MiLCJjcmVhdGUiLCJtYXhQb3MiLCJib3VuZGluZ1JhZGl1cyIsImoiLCJpIiwidSIsInYiLCJ1MSIsInYxIiwieCIsImNvcyIsInNpbiIsInkiLCJ6IiwibngiLCJueSIsIm56IiwicHVzaCIsInNlZzEiLCJhIiwiYiIsImMiLCJkIl0sIm1hcHBpbmdzIjoiOzs7OztRQWFlLE9BQStDLE9BQUEsQ0FBQSxPQUFBLENBQS9DO1FBQStDLFVBQUEsT0FBQSxFQUFBO0FBQUEsUUFBQSxPQUFBLGlCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsRUFBQSxVQUFBLENBQUEsQ0FBQTtBQUFBOztRQUN2Q0EsSUFBS0MsQ0FBQUEsT0FBTEQsRUFBS0M7QUFBQUEsWUFBQUEsaUJBQUFBLENBQTFCLGNBQTBCQSxDQUExQixVQUEwQkEsRUFBMUIsTUFBMEJBLEVBQUFBO0FBQUFBO1FBZDVCO0FBQUEsc0VBQUE7QUFBQSwwQkFhZSxZQUErQztBQUFBLFlBQUEsSUFBckNDLE1BQUFBLEdBQXFDLFNBQUEsQ0FBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxHQUFBLFNBQUEsQ0FBQSxDQUFBLENBQUEsR0FBNUIsR0FBNEIsQ0FBQTtBQUFBLFlBQUEsSUFBdkJDLElBQUFBLEdBQXVCLFNBQUEsQ0FBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxHQUFBLFNBQUEsQ0FBQSxDQUFBLENBQUEsR0FBaEIsR0FB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QWdCd0IsQ0FBaEJ4QixFQUFtQnNCLENBQW5CdEIsRUFQaUQ7QUFBQSx3QkFRakRBLE9BQUFBLENBQVFtQixJQUFSbkIsQ0FBYXdCLENBQWJ4QixFQUFnQnVCLENBQWhCdkIsRUFBbUJzQixDQUFuQnRCLEVBUmlEO0FBQUEscUJBckJWO0FBQUEsaUJBREg7QUFBQSxhQWJrQjtBQUFBLFlBZ0Q1RCxPQUFPLElBQUEsWUFBQSxDQUFBLE9BQUEsQ0FDTEgsU0FESyxFQUVMQyxPQUZLLEVBR0xDLEdBSEssRUFJTEMsT0FKSyxFQUtMQyxNQUxLLEVBTUxFLE1BTkssRUFPTEMsY0FQSyxDQUFQLENBaEQ0RDtBQUFBLFVBYjlEO0FBQUEsUUFFQSxJQUFBLE1BQUEsR0FBQSxPQUFBLENBQUEsYUFBQSxDQUFBLENBRkE7QUFBQSxRQUdBLElBQUEsV0FBQSxHQUFBLE9BQUEsQ0FBQSxlQUFBLENBQUEsQ0FIQTtBQUFBLCtEQUFBO0FBQUE7O1NBQUE7QUFBQTs7SUFnQlksSUFBWSxPQUFaLEVBQWtCVDtBQUFBQSx3REFBQUE7QUFBQUEsS0FBbEIsTUFHVjtBQUFBLFFBQ0EsaUJBQUEsQ0FBQSxrQkFBQSxDQUFBLFVBQUEsRUFBQSxZQUFBO0FBQUEsWUFDQSxRQUFBLENBQUEsUUFBQSxDQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQURBO0FBQUEsU0FBQSxFQURBO0FBQUEiLCJmaWxlIjoidG9ydXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnLi4vLi4vdm1hdGgnO1xyXG5pbXBvcnQgVmVydGV4RGF0YSBmcm9tICcuL3ZlcnRleC1kYXRhJztcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0dWJlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnJhZGlhbFNlZ21lbnRzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnR1YnVsYXJTZWdtZW50c1xyXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0cy5hcmNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChyYWRpdXMgPSAwLjQsIHR1YmUgPSAwLjEsIG9wdHMgPSB7fSkge1xyXG4gIGxldCByYWRpYWxTZWdtZW50cyA9IG9wdHMucmFkaWFsU2VnbWVudHMgfHwgMzI7XHJcbiAgbGV0IHR1YnVsYXJTZWdtZW50cyA9IG9wdHMudHVidWxhclNlZ21lbnRzIHx8IDMyO1xyXG4gIGxldCBhcmMgPSBvcHRzLmFyYyB8fCAyLjAgKiBNYXRoLlBJO1xyXG5cclxuICBsZXQgcG9zaXRpb25zID0gW107XHJcbiAgbGV0IG5vcm1hbHMgPSBbXTtcclxuICBsZXQgdXZzID0gW107XHJcbiAgbGV0IGluZGljZXMgPSBbXTtcclxuICBsZXQgbWluUG9zID0gdmVjMy5jcmVhdGUoLXJhZGl1cyAtIHR1YmUsIC10dWJlLCAtcmFkaXVzIC0gdHViZSk7XHJcbiAgbGV0IG1heFBvcyA9IHZlYzMuY3JlYXRlKHJhZGl1cyArIHR1YmUsIHR1YmUsIHJhZGl1cyArIHR1YmUpO1xyXG4gIGxldCBib3VuZGluZ1JhZGl1cyA9IHJhZGl1cyArIHR1YmU7XHJcblxyXG4gIGZvciAobGV0IGogPSAwOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7XHJcbiAgICAgIGxldCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cztcclxuICAgICAgbGV0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHM7XHJcblxyXG4gICAgICBsZXQgdTEgPSB1ICogYXJjO1xyXG4gICAgICBsZXQgdjEgPSB2ICogTWF0aC5QSSAqIDI7XHJcblxyXG4gICAgICAvLyB2ZXJ0ZXhcclxuICAgICAgbGV0IHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYxKSkgKiBNYXRoLnNpbih1MSk7XHJcbiAgICAgIGxldCB5ID0gdHViZSAqIE1hdGguc2luKHYxKTtcclxuICAgICAgbGV0IHogPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYxKSkgKiBNYXRoLmNvcyh1MSk7XHJcblxyXG4gICAgICAvLyB0aGlzIHZlY3RvciBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgbm9ybWFsXHJcbiAgICAgIGxldCBueCA9IE1hdGguc2luKHUxKSAqIE1hdGguY29zKHYxKTtcclxuICAgICAgbGV0IG55ID0gTWF0aC5zaW4odjEpO1xyXG4gICAgICBsZXQgbnogPSBNYXRoLmNvcyh1MSkgKiBNYXRoLmNvcyh2MSk7XHJcblxyXG4gICAgICBwb3NpdGlvbnMucHVzaCh4LCB5LCB6KTtcclxuICAgICAgbm9ybWFscy5wdXNoKG54LCBueSwgbnopO1xyXG4gICAgICB1dnMucHVzaCh1LCB2KTtcclxuXHJcbiAgICAgIGlmICgoaSA8IHR1YnVsYXJTZWdtZW50cykgJiYgKGogPCByYWRpYWxTZWdtZW50cykpIHtcclxuICAgICAgICBsZXQgc2VnMSA9IHR1YnVsYXJTZWdtZW50cyArIDE7XHJcbiAgICAgICAgbGV0IGEgPSBzZWcxICogaiArIGk7XHJcbiAgICAgICAgbGV0IGIgPSBzZWcxICogKGogKyAxKSArIGk7XHJcbiAgICAgICAgbGV0IGMgPSBzZWcxICogKGogKyAxKSArIGkgKyAxO1xyXG4gICAgICAgIGxldCBkID0gc2VnMSAqIGogKyBpICsgMTtcclxuXHJcbiAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGQsIGIpO1xyXG4gICAgICAgIGluZGljZXMucHVzaChkLCBjLCBiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBWZXJ0ZXhEYXRhKFxyXG4gICAgcG9zaXRpb25zLFxyXG4gICAgbm9ybWFscyxcclxuICAgIHV2cyxcclxuICAgIGluZGljZXMsXHJcbiAgICBtaW5Qb3MsXHJcbiAgICBtYXhQb3MsXHJcbiAgICBib3VuZGluZ1JhZGl1c1xyXG4gICk7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByYWRpdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDAuNDtcbiAgdmFyIHR1YmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDAuMTtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gIHZhciByYWRpYWxTZWdtZW50cyA9IG9wdHMucmFkaWFsU2VnbWVudHMgfHwgMzI7XG4gIHZhciB0dWJ1bGFyU2VnbWVudHMgPSBvcHRzLnR1YnVsYXJTZWdtZW50cyB8fCAzMjtcbiAgdmFyIGFyYyA9IG9wdHMuYXJjIHx8IDIuMCAqIE1hdGguUEk7XG5cbiAgdmFyIHBvc2l0aW9ucyA9IFtdO1xuICB2YXIgbm9ybWFscyA9IFtdO1xuICB2YXIgdXZzID0gW107XG4gIHZhciBpbmRpY2VzID0gW107XG4gIHZhciBtaW5Qb3MgPSBfdm1hdGgudmVjMy5jcmVhdGUoLXJhZGl1cyAtIHR1YmUsIC10dWJlLCAtcmFkaXVzIC0gdHViZSk7XG4gIHZhciBtYXhQb3MgPSBfdm1hdGgudmVjMy5jcmVhdGUocmFkaXVzICsgdHViZSwgdHViZSwgcmFkaXVzICsgdHViZSk7XG4gIHZhciBib3VuZGluZ1JhZGl1cyA9IHJhZGl1cyArIHR1YmU7XG5cbiAgZm9yICh2YXIgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7XG4gICAgICB2YXIgdSA9IGkgLyB0dWJ1bGFyU2VnbWVudHM7XG4gICAgICB2YXIgdiA9IGogLyByYWRpYWxTZWdtZW50cztcblxuICAgICAgdmFyIHUxID0gdSAqIGFyYztcbiAgICAgIHZhciB2MSA9IHYgKiBNYXRoLlBJICogMjtcblxuICAgICAgLy8gdmVydGV4XG4gICAgICB2YXIgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModjEpKSAqIE1hdGguc2luKHUxKTtcbiAgICAgIHZhciB5ID0gdHViZSAqIE1hdGguc2luKHYxKTtcbiAgICAgIHZhciB6ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2MSkpICogTWF0aC5jb3ModTEpO1xuXG4gICAgICAvLyB0aGlzIHZlY3RvciBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgbm9ybWFsXG4gICAgICB2YXIgbnggPSBNYXRoLnNpbih1MSkgKiBNYXRoLmNvcyh2MSk7XG4gICAgICB2YXIgbnkgPSBNYXRoLnNpbih2MSk7XG4gICAgICB2YXIgbnogPSBNYXRoLmNvcyh1MSkgKiBNYXRoLmNvcyh2MSk7XG5cbiAgICAgIHBvc2l0aW9ucy5wdXNoKHgsIHksIHopO1xuICAgICAgbm9ybWFscy5wdXNoKG54LCBueSwgbnopO1xuICAgICAgdXZzLnB1c2godSwgdik7XG5cbiAgICAgIGlmIChpIDwgdHVidWxhclNlZ21lbnRzICYmIGogPCByYWRpYWxTZWdtZW50cykge1xuICAgICAgICB2YXIgc2VnMSA9IHR1YnVsYXJTZWdtZW50cyArIDE7XG4gICAgICAgIHZhciBhID0gc2VnMSAqIGogKyBpO1xuICAgICAgICB2YXIgYiA9IHNlZzEgKiAoaiArIDEpICsgaTtcbiAgICAgICAgdmFyIGMgPSBzZWcxICogKGogKyAxKSArIGkgKyAxO1xuICAgICAgICB2YXIgZCA9IHNlZzEgKiBqICsgaSArIDE7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGQsIGIpO1xuICAgICAgICBpbmRpY2VzLnB1c2goZCwgYywgYik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBfdmVydGV4RGF0YTIuZGVmYXVsdChwb3NpdGlvbnMsIG5vcm1hbHMsIHV2cywgaW5kaWNlcywgbWluUG9zLCBtYXhQb3MsIGJvdW5kaW5nUmFkaXVzKTtcbn07XG5cbnZhciBfdm1hdGggPSByZXF1aXJlKCcuLi8uLi92bWF0aCcpO1xuXG52YXIgX3ZlcnRleERhdGEgPSByZXF1aXJlKCcuL3ZlcnRleC1kYXRhJyk7XG5cbnZhciBfdmVydGV4RGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92ZXJ0ZXhEYXRhKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0dWJlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnJhZGlhbFNlZ21lbnRzXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRzLnR1YnVsYXJTZWdtZW50c1xyXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0cy5hcmNcclxuICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJblJ2Y25WekxtcHpJbDBzSW01aGJXVnpJanBiSW5KaFpHbDFjeUlzSW5SMVltVWlMQ0p2Y0hSeklpd2ljbUZrYVdGc1UyVm5iV1Z1ZEhNaUxDSjBkV0oxYkdGeVUyVm5iV1Z1ZEhNaUxDSmhjbU1pTENKTllYUm9JaXdpVUVraUxDSndiM05wZEdsdmJuTWlMQ0p1YjNKdFlXeHpJaXdpZFhaeklpd2lhVzVrYVdObGN5SXNJbTFwYmxCdmN5SXNJbU55WldGMFpTSXNJbTFoZUZCdmN5SXNJbUp2ZFc1a2FXNW5VbUZrYVhWeklpd2lhaUlzSW1raUxDSjFJaXdpZGlJc0luVXhJaXdpZGpFaUxDSjRJaXdpWTI5eklpd2ljMmx1SWl3aWVTSXNJbm9pTENKdWVDSXNJbTU1SWl3aWJub2lMQ0p3ZFhOb0lpd2ljMlZuTVNJc0ltRWlMQ0ppSWl3aVl5SXNJbVFpWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCT3pzN096czdhMEpCWVdVc1dVRkJLME03UVVGQlFTeE5RVUZ5UTBFc1RVRkJjVU1zZFVWQlFUVkNMRWRCUVRSQ08wRkJRVUVzVFVGQmRrSkRMRWxCUVhWQ0xIVkZRVUZvUWl4SFFVRm5RanRCUVVGQkxFMUJRVmhETEVsQlFWY3NkVVZCUVVvc1JVRkJTVHM3UVVGRE5VUXNUVUZCU1VNc2FVSkJRV2xDUkN4TFFVRkxReXhqUVVGTUxFbEJRWFZDTEVWQlFUVkRPMEZCUTBFc1RVRkJTVU1zYTBKQlFXdENSaXhMUVVGTFJTeGxRVUZNTEVsQlFYZENMRVZCUVRsRE8wRkJRMEVzVFVGQlNVTXNUVUZCVFVnc1MwRkJTMGNzUjBGQlRDeEpRVUZaTEUxQlFVMURMRXRCUVV0RExFVkJRV3BET3p0QlFVVkJMRTFCUVVsRExGbEJRVmtzUlVGQmFFSTdRVUZEUVN4TlFVRkpReXhWUVVGVkxFVkJRV1E3UVVGRFFTeE5RVUZKUXl4TlFVRk5MRVZCUVZZN1FVRkRRU3hOUVVGSlF5eFZRVUZWTEVWQlFXUTdRVUZEUVN4TlFVRkpReXhUUVVGVExGbEJRVXRETEUxQlFVd3NRMEZCV1N4RFFVRkRZaXhOUVVGRUxFZEJRVlZETEVsQlFYUkNMRVZCUVRSQ0xFTkJRVU5CTEVsQlFUZENMRVZCUVcxRExFTkJRVU5FTEUxQlFVUXNSMEZCVlVNc1NVRkJOME1zUTBGQllqdEJRVU5CTEUxQlFVbGhMRk5CUVZNc1dVRkJTMFFzVFVGQlRDeERRVUZaWWl4VFFVRlRReXhKUVVGeVFpeEZRVUV5UWtFc1NVRkJNMElzUlVGQmFVTkVMRk5CUVZORExFbEJRVEZETEVOQlFXSTdRVUZEUVN4TlFVRkpZeXhwUWtGQmFVSm1MRk5CUVZORExFbEJRVGxDT3p0QlFVVkJMRTlCUVVzc1NVRkJTV1VzU1VGQlNTeERRVUZpTEVWQlFXZENRU3hMUVVGTFlpeGpRVUZ5UWl4RlFVRnhRMkVzUjBGQmNrTXNSVUZCTUVNN1FVRkRlRU1zVTBGQlN5eEpRVUZKUXl4SlFVRkpMRU5CUVdJc1JVRkJaMEpCTEV0QlFVdGlMR1ZCUVhKQ0xFVkJRWE5EWVN4SFFVRjBReXhGUVVFeVF6dEJRVU42UXl4VlFVRkpReXhKUVVGSlJDeEpRVUZKWWl4bFFVRmFPMEZCUTBFc1ZVRkJTV1VzU1VGQlNVZ3NTVUZCU1dJc1kwRkJXanM3UVVGRlFTeFZRVUZKYVVJc1MwRkJTMFlzU1VGQlNXSXNSMEZCWWp0QlFVTkJMRlZCUVVsblFpeExRVUZMUml4SlFVRkpZaXhMUVVGTFF5eEZRVUZVTEVkQlFXTXNRMEZCZGtJN08wRkJSVUU3UVVGRFFTeFZRVUZKWlN4SlFVRkpMRU5CUVVOMFFpeFRRVUZUUXl4UFFVRlBTeXhMUVVGTGFVSXNSMEZCVEN4RFFVRlRSaXhGUVVGVUxFTkJRV3BDTEVsQlFXbERaaXhMUVVGTGEwSXNSMEZCVEN4RFFVRlRTaXhGUVVGVUxFTkJRWHBETzBGQlEwRXNWVUZCU1Vzc1NVRkJTWGhDTEU5QlFVOUxMRXRCUVV0clFpeEhRVUZNTEVOQlFWTklMRVZCUVZRc1EwRkJaanRCUVVOQkxGVkJRVWxMTEVsQlFVa3NRMEZCUXpGQ0xGTkJRVk5ETEU5QlFVOUxMRXRCUVV0cFFpeEhRVUZNTEVOQlFWTkdMRVZCUVZRc1EwRkJha0lzU1VGQmFVTm1MRXRCUVV0cFFpeEhRVUZNTEVOQlFWTklMRVZCUVZRc1EwRkJla003TzBGQlJVRTdRVUZEUVN4VlFVRkpUeXhMUVVGTGNrSXNTMEZCUzJ0Q0xFZEJRVXdzUTBGQlUwb3NSVUZCVkN4SlFVRmxaQ3hMUVVGTGFVSXNSMEZCVEN4RFFVRlRSaXhGUVVGVUxFTkJRWGhDTzBGQlEwRXNWVUZCU1U4c1MwRkJTM1JDTEV0QlFVdHJRaXhIUVVGTUxFTkJRVk5JTEVWQlFWUXNRMEZCVkR0QlFVTkJMRlZCUVVsUkxFdEJRVXQyUWl4TFFVRkxhVUlzUjBGQlRDeERRVUZUU0N4RlFVRlVMRWxCUVdWa0xFdEJRVXRwUWl4SFFVRk1MRU5CUVZOR0xFVkJRVlFzUTBGQmVFSTdPMEZCUlVGaUxHZENRVUZWYzBJc1NVRkJWaXhEUVVGbFVpeERRVUZtTEVWQlFXdENSeXhEUVVGc1FpeEZRVUZ4UWtNc1EwRkJja0k3UVVGRFFXcENMR05CUVZGeFFpeEpRVUZTTEVOQlFXRklMRVZCUVdJc1JVRkJhVUpETEVWQlFXcENMRVZCUVhGQ1F5eEZRVUZ5UWp0QlFVTkJia0lzVlVGQlNXOUNMRWxCUVVvc1EwRkJVMW9zUTBGQlZDeEZRVUZaUXl4RFFVRmFPenRCUVVWQkxGVkJRVXRHTEVsQlFVbGlMR1ZCUVV3c1NVRkJNRUpaTEVsQlFVbGlMR05CUVd4RExFVkJRVzFFTzBGQlEycEVMRmxCUVVrMFFpeFBRVUZQTTBJc2EwSkJRV3RDTEVOQlFUZENPMEZCUTBFc1dVRkJTVFJDTEVsQlFVbEVMRTlCUVU5bUxFTkJRVkFzUjBGQlYwTXNRMEZCYmtJN1FVRkRRU3haUVVGSlowSXNTVUZCU1VZc1VVRkJVV1lzU1VGQlNTeERRVUZhTEVsQlFXbENReXhEUVVGNlFqdEJRVU5CTEZsQlFVbHBRaXhKUVVGSlNDeFJRVUZSWml4SlFVRkpMRU5CUVZvc1NVRkJhVUpETEVOQlFXcENMRWRCUVhGQ0xFTkJRVGRDTzBGQlEwRXNXVUZCU1d0Q0xFbEJRVWxLTEU5QlFVOW1MRU5CUVZBc1IwRkJWME1zUTBGQldDeEhRVUZsTEVOQlFYWkNPenRCUVVWQlRpeG5Ra0ZCVVcxQ0xFbEJRVklzUTBGQllVVXNRMEZCWWl4RlFVRm5Ra2NzUTBGQmFFSXNSVUZCYlVKR0xFTkJRVzVDTzBGQlEwRjBRaXhuUWtGQlVXMUNMRWxCUVZJc1EwRkJZVXNzUTBGQllpeEZRVUZuUWtRc1EwRkJhRUlzUlVGQmJVSkVMRU5CUVc1Q08wRkJRMFE3UVVGRFJqdEJRVU5HT3p0QlFVVkVMRk5CUVU4c2VVSkJRMHg2UWl4VFFVUkxMRVZCUlV4RExFOUJSa3NzUlVGSFRFTXNSMEZJU3l4RlFVbE1ReXhQUVVwTExFVkJTMHhETEUxQlRFc3NSVUZOVEVVc1RVRk9TeXhGUVU5TVF5eGpRVkJMTEVOQlFWQTdRVUZUUkN4RE96dEJRWEJGUkRzN1FVRkRRVHM3T3pzN096czdRVUZGUVNJc0ltWnBiR1VpT2lKMGIzSjFjeTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpZDFjMlVnYzNSeWFXTjBKenRjY2x4dVhISmNibWx0Y0c5eWRDQjdJSFpsWXpNZ2ZTQm1jbTl0SUNjdUxpOHVMaTkyYldGMGFDYzdYSEpjYm1sdGNHOXlkQ0JXWlhKMFpYaEVZWFJoSUdaeWIyMGdKeTR2ZG1WeWRHVjRMV1JoZEdFbk8xeHlYRzVjY2x4dUx5b3FYSEpjYmlBcUlFQndZWEpoYlNCN1RuVnRZbVZ5ZlNCeVlXUnBkWE5jY2x4dUlDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlIUjFZbVZjY2x4dUlDb2dRSEJoY21GdElIdFBZbXBsWTNSOUlHOXdkSE5jY2x4dUlDb2dRSEJoY21GdElIdE9kVzFpWlhKOUlHOXdkSE11Y21Ga2FXRnNVMlZuYldWdWRITmNjbHh1SUNvZ1FIQmhjbUZ0SUh0T2RXMWlaWEo5SUc5d2RITXVkSFZpZFd4aGNsTmxaMjFsYm5SelhISmNiaUFxSUVCd1lYSmhiU0I3VG5WdFltVnlmU0J2Y0hSekxtRnlZMXh5WEc0Z0tpOWNjbHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdablZ1WTNScGIyNGdLSEpoWkdsMWN5QTlJREF1TkN3Z2RIVmlaU0E5SURBdU1Td2diM0IwY3lBOUlIdDlLU0I3WEhKY2JpQWdiR1YwSUhKaFpHbGhiRk5sWjIxbGJuUnpJRDBnYjNCMGN5NXlZV1JwWVd4VFpXZHRaVzUwY3lCOGZDQXpNanRjY2x4dUlDQnNaWFFnZEhWaWRXeGhjbE5sWjIxbGJuUnpJRDBnYjNCMGN5NTBkV0oxYkdGeVUyVm5iV1Z1ZEhNZ2ZId2dNekk3WEhKY2JpQWdiR1YwSUdGeVl5QTlJRzl3ZEhNdVlYSmpJSHg4SURJdU1DQXFJRTFoZEdndVVFazdYSEpjYmx4eVhHNGdJR3hsZENCd2IzTnBkR2x2Ym5NZ1BTQmJYVHRjY2x4dUlDQnNaWFFnYm05eWJXRnNjeUE5SUZ0ZE8xeHlYRzRnSUd4bGRDQjFkbk1nUFNCYlhUdGNjbHh1SUNCc1pYUWdhVzVrYVdObGN5QTlJRnRkTzF4eVhHNGdJR3hsZENCdGFXNVFiM01nUFNCMlpXTXpMbU55WldGMFpTZ3RjbUZrYVhWeklDMGdkSFZpWlN3Z0xYUjFZbVVzSUMxeVlXUnBkWE1nTFNCMGRXSmxLVHRjY2x4dUlDQnNaWFFnYldGNFVHOXpJRDBnZG1Wak15NWpjbVZoZEdVb2NtRmthWFZ6SUNzZ2RIVmlaU3dnZEhWaVpTd2djbUZrYVhWeklDc2dkSFZpWlNrN1hISmNiaUFnYkdWMElHSnZkVzVrYVc1blVtRmthWFZ6SUQwZ2NtRmthWFZ6SUNzZ2RIVmlaVHRjY2x4dVhISmNiaUFnWm05eUlDaHNaWFFnYWlBOUlEQTdJR29nUEQwZ2NtRmthV0ZzVTJWbmJXVnVkSE03SUdvckt5a2dlMXh5WEc0Z0lDQWdabTl5SUNoc1pYUWdhU0E5SURBN0lHa2dQRDBnZEhWaWRXeGhjbE5sWjIxbGJuUnpPeUJwS3lzcElIdGNjbHh1SUNBZ0lDQWdiR1YwSUhVZ1BTQnBJQzhnZEhWaWRXeGhjbE5sWjIxbGJuUnpPMXh5WEc0Z0lDQWdJQ0JzWlhRZ2RpQTlJR29nTHlCeVlXUnBZV3hUWldkdFpXNTBjenRjY2x4dVhISmNiaUFnSUNBZ0lHeGxkQ0IxTVNBOUlIVWdLaUJoY21NN1hISmNiaUFnSUNBZ0lHeGxkQ0IyTVNBOUlIWWdLaUJOWVhSb0xsQkpJQ29nTWp0Y2NseHVYSEpjYmlBZ0lDQWdJQzh2SUhabGNuUmxlRnh5WEc0Z0lDQWdJQ0JzWlhRZ2VDQTlJQ2h5WVdScGRYTWdLeUIwZFdKbElDb2dUV0YwYUM1amIzTW9kakVwS1NBcUlFMWhkR2d1YzJsdUtIVXhLVHRjY2x4dUlDQWdJQ0FnYkdWMElIa2dQU0IwZFdKbElDb2dUV0YwYUM1emFXNG9kakVwTzF4eVhHNGdJQ0FnSUNCc1pYUWdlaUE5SUNoeVlXUnBkWE1nS3lCMGRXSmxJQ29nVFdGMGFDNWpiM01vZGpFcEtTQXFJRTFoZEdndVkyOXpLSFV4S1R0Y2NseHVYSEpjYmlBZ0lDQWdJQzh2SUhSb2FYTWdkbVZqZEc5eUlHbHpJSFZ6WldRZ2RHOGdZMkZzWTNWc1lYUmxJSFJvWlNCdWIzSnRZV3hjY2x4dUlDQWdJQ0FnYkdWMElHNTRJRDBnVFdGMGFDNXphVzRvZFRFcElDb2dUV0YwYUM1amIzTW9kakVwTzF4eVhHNGdJQ0FnSUNCc1pYUWdibmtnUFNCTllYUm9Mbk5wYmloMk1TazdYSEpjYmlBZ0lDQWdJR3hsZENCdWVpQTlJRTFoZEdndVkyOXpLSFV4S1NBcUlFMWhkR2d1WTI5ektIWXhLVHRjY2x4dVhISmNiaUFnSUNBZ0lIQnZjMmwwYVc5dWN5NXdkWE5vS0hnc0lIa3NJSG9wTzF4eVhHNGdJQ0FnSUNCdWIzSnRZV3h6TG5CMWMyZ29ibmdzSUc1NUxDQnVlaWs3WEhKY2JpQWdJQ0FnSUhWMmN5NXdkWE5vS0hVc0lIWXBPMXh5WEc1Y2NseHVJQ0FnSUNBZ2FXWWdLQ2hwSUR3Z2RIVmlkV3hoY2xObFoyMWxiblJ6S1NBbUppQW9haUE4SUhKaFpHbGhiRk5sWjIxbGJuUnpLU2tnZTF4eVhHNGdJQ0FnSUNBZ0lHeGxkQ0J6WldjeElEMGdkSFZpZFd4aGNsTmxaMjFsYm5SeklDc2dNVHRjY2x4dUlDQWdJQ0FnSUNCc1pYUWdZU0E5SUhObFp6RWdLaUJxSUNzZ2FUdGNjbHh1SUNBZ0lDQWdJQ0JzWlhRZ1lpQTlJSE5sWnpFZ0tpQW9haUFySURFcElDc2dhVHRjY2x4dUlDQWdJQ0FnSUNCc1pYUWdZeUE5SUhObFp6RWdLaUFvYWlBcklERXBJQ3NnYVNBcklERTdYSEpjYmlBZ0lDQWdJQ0FnYkdWMElHUWdQU0J6WldjeElDb2dhaUFySUdrZ0t5QXhPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQnBibVJwWTJWekxuQjFjMmdvWVN3Z1pDd2dZaWs3WEhKY2JpQWdJQ0FnSUNBZ2FXNWthV05sY3k1d2RYTm9LR1FzSUdNc0lHSXBPMXh5WEc0Z0lDQWdJQ0I5WEhKY2JpQWdJQ0I5WEhKY2JpQWdmVnh5WEc1Y2NseHVJQ0J5WlhSMWNtNGdibVYzSUZabGNuUmxlRVJoZEdFb1hISmNiaUFnSUNCd2IzTnBkR2x2Ym5Nc1hISmNiaUFnSUNCdWIzSnRZV3h6TEZ4eVhHNGdJQ0FnZFhaekxGeHlYRzRnSUNBZ2FXNWthV05sY3l4Y2NseHVJQ0FnSUcxcGJsQnZjeXhjY2x4dUlDQWdJRzFoZUZCdmN5eGNjbHh1SUNBZ0lHSnZkVzVrYVc1blVtRmthWFZ6WEhKY2JpQWdLVHRjY2x4dWZWeHlYRzRpWFgwPSJdfQ==