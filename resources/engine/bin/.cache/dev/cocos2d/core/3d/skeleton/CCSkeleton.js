(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/3d/skeleton/CCSkeleton.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        var Skeleton = cc.Class({
            name: 'cc.Skeleton',
            extends: cc.Asset,
            ctor: function ctor() {
                this._bindposes = [];
                this._uniqueBindPoses = [];
                this._jointPaths = [];
            },
            properties: {
                _model: cc.Model,
                _jointIndices: [],
                _skinIndex: -1,
                jointPaths: {
                    get: function get() {
                        return this._jointPaths;
                    }
                },
                bindposes: {
                    get: function get() {
                        return this._bindposes;
                    }
                },
                uniqueBindPoses: {
                    get: function get() {
                        return this._uniqueBindPoses;
                    }
                },
                model: {
                    get: function get() {
                        return this._model;
                    }
                }
            },
            onLoad: function onLoad() {
                var nodes = this._model.nodes;
                var jointIndices = this._jointIndices;
                var jointPaths = this._jointPaths;
                var bindposes = this._bindposes;
                var uniqueBindPoses = this._uniqueBindPoses;
                for (var i = 0; i < jointIndices.length; i++) {
                    var node = nodes[jointIndices[i]];
                    jointPaths[i] = node.path;
                    if (node.uniqueBindPose) {
                        bindposes[i] = uniqueBindPoses[i] = node.uniqueBindPose;
                    } else {
                        bindposes[i] = node.bindpose[this._skinIndex];
                    }
                }
            }
        });
        cc.Skeleton = module.exports = Skeleton;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNDU2tlbGV0b24uanMiLCJDOi9Vc2Vycy9uYW50YXMvZmlyZWJhbGwteC9mYl8yMS1yZWxlYXNlL2VuZ2luZS9jb2NvczJkL2NvcmUvM2Qvc2tlbGV0b24vQ0NTa2VsZXRvbi5qcyJdLCJuYW1lcyI6WyJTa2VsZXRvbiIsImNjIiwiQ2xhc3MiLCJuYW1lIiwiZXh0ZW5kcyIsIkFzc2V0IiwiY3RvciIsIl9iaW5kcG9zZXMiLCJfdW5pcXVlQmluZFBvc2VzIiwiX2pvaW50UGF0aHMiLCJwcm9wZXJ0aWVzIiwiX21vZGVsIiwiTW9kZWwiLCJfam9pbnRJbmRpY2VzIiwiX3NraW5JbmRleCIsImpvaW50UGF0aHMiLCJnZXQiLCJiaW5kcG9zZXMiLCJ1bmlxdWVCaW5kUG9zZXMiLCJtb2RlbCIsIm9uTG9hZCIsIm5vZGVzIiwiam9pbnRJbmRpY2VzIiwiaSIsImxlbmd0aCIsIm5vZGUiLCJwYXRoIiwidW5pcXVlQmluZFBvc2UiLCJiaW5kcG9zZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7SUFBQSxJQUFBLE9BQUEsR0FBQSxPQUFBLE9BQUEsS0FBQSxXQUFBLElBQUEsT0FBQSxPQUFBLEtBQUEsV0FBQTs7Ozs7Ozs7Ozs7OztRQTBCQSxJQUFJQSxRQUFBQSxHQUFXQyxFQUFBQSxDQUFHQyxLQUFIRCxDQUFTO0FBQUEsWUFDcEJFLElBQUFBLEVBQU0sYUFEYztBQUFBLFlBRXBCQyxPQUFBQSxFQUFTSCxFQUFBQSxDQUFHSSxLQUZRO0FBQUEsWUFJcEJDLElBQUFBLEVBSm9CLFNBQUEsSUFBQSxHQUlaO0FBQUEsZ0JBQ0osS0FBS0MsVUFBTCxHQUFrQixFQUFsQixDQURJO0FBQUEsZ0JBRUosS0FBS0MsZ0JBQUwsR0FBd0IsRUFBeEIsQ0FGSTtBQUFBLGdCQUdKLEtBQUtDLFdBQUwsR0FBbUIsRUFBbkIsQ0FISTtBQUFBLGFBSlk7QUFBQSxZQVVwQkMsVUFBQUEsRUFBWTtBQUFBLGdCQUNSQyxNQUFBQSxFQUFRVixFQUFBQSxDQUFHVyxLQURIO0FBQUEsZ0JBRVJDLGFBQUFBLEVBQWUsRUFGUDtBQUFBLGdCQUdSQyxVQUFBQSxFQUFZLENBQUMsQ0FITDtBQUFBLGdCQUtSQyxVQUFBQSxFQUFZO0FBQUEsb0JBQ1JDLEdBQUFBLEVBRFEsU0FBQSxHQUFBLEdBQ0Q7QUFBQSx3QkFDSCxPQUFPLEtBQUtQLFdBQVosQ0FERztBQUFBLHFCQURDO0FBQUEsaUJBTEo7QUFBQSxnQkFVUlEsU0FBQUEsRUFBVztBQUFBLG9CQUNQRCxHQUFBQSxFQURPLFNBQUEsR0FBQSxHQUNBO0FBQUEsd0JBQ0gsT0FBTyxLQUFLVCxVQUFaLENBREc7QUFBQSxxQkFEQTtBQUFBLGlCQVZIO0FBQUEsZ0JBZVJXLGVBQUFBLEVBQWlCO0FBQUEsb0JBQ2JGLEdBQUFBLEVBRGEsU0FBQSxHQUFBLEdBQ047QUFBQSx3QkFDSCxPQUFPLEtBQUtSLGdCQUFaLENBREc7QUFBQSxxQkFETTtBQUFBLGlCQWZUO0FBQUEsZ0JBb0JSVyxLQUFBQSxFQUFPO0FBQUEsb0JBQ0hILEdBQUFBLEVBREcsU0FBQSxHQUFBLEdBQ0k7QUFBQSx3QkFDSCxPQUFPLEtBQUtMLE1BQVosQ0FERztBQUFBLHFCQURKO0FBQUEsaUJBcEJDO0FBQUEsYUFWUTtBQUFBLFlBcUNwQlMsTUFBQUEsRUFyQ29CLFNBQUEsTUFBQSxHQXFDVjtBQUFBLGdCQUNOLElBQUlDLEtBQUFBLEdBQVEsS0FBS1YsTUFBTCxDQUFZVSxLQUF4QixDQURNO0FBQUEsZ0JBRU4sSUFBSUMsWUFBQUEsR0FBZSxLQUFLVCxhQUF4QixDQUZNO0FBQUEsZ0JBR04sSUFBSUUsVUFBQUEsR0FBYSxLQUFLTixXQUF0QixDQUhNO0FBQUEsZ0JBSU4sSUFBSVEsU0FBQUEsR0FBWSxLQUFLVixVQUFyQixDQUpNO0FBQUEsZ0JBS04sSUFBSVcsZUFBQUEsR0FBa0IsS0FBS1YsZ0JBQTNCLENBTE07QUFBQSxnQkFNTixLQUFLLElBQUllLENBQUFBLEdBQUksQ0FBUixDQUFMLENBQWdCQSxDQUFBQSxHQUFJRCxZQUFBQSxDQUFhRSxNQUFqQyxFQUF5Q0QsQ0FBQUEsRUFBekMsRUFBOEM7QUFBQSxvQkFDMUMsSUFBSUUsSUFBQUEsR0FBT0osS0FBQUEsQ0FBTUMsWUFBQUEsQ0FBYUMsQ0FBYkQsQ0FBTkQsQ0FBWCxDQUQwQztBQUFBLG9CQUUxQ04sVUFBQUEsQ0FBV1EsQ0FBWFIsSUFBZ0JVLElBQUFBLENBQUtDLElBQXJCWCxDQUYwQztBQUFBLG9CQUcxQyxJQUFJVSxJQUFBQSxDQUFLRSxjQUFULEVBQXlCO0FBQUEsd0JBQ3JCVixTQUFBQSxDQUFVTSxDQUFWTixJQUFlQyxlQUFBQSxDQUFnQkssQ0FBaEJMLElBQXFCTyxJQUFBQSxDQUFLRSxjQUF6Q1YsQ0FEcUI7QUFBQSxxQkFBekIsTUFHSztBQUFBLHdCQUNEQSxTQUFBQSxDQUFVTSxDQUFWTixJQUFlUSxJQUFBQSxDQUFLRyxRQUFMSCxDQUFjLEtBQUtYLFVBQW5CVyxDQUFmUixDQURDO0FBQUEscUJBTnFDO0FBQUEsaUJBTnhDO0FBQUEsYUFyQ1U7QUFBQSxTQUFUaEIsQ0FBZjtRQXdEQUEsRUFBQUEsQ0FBR0QsUUFBSEMsR0FBYzRCLE1BQUFBLENBQU9DLE9BQVBELEdBQWlCN0IsUUFBL0JDIiwiZmlsZSI6IkNDU2tlbGV0b24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cDovL3d3dy5jb2Nvcy5jb21cclxuXHJcbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcclxuICB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSwgbm9uLWFzc2lnbmFibGUsIHJldm9jYWJsZSBhbmQgbm9uLWV4Y2x1c2l2ZSBsaWNlbnNlXHJcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxyXG4gIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcclxuICB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXHJcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXHJcblxyXG4gVGhlIHNvZnR3YXJlIG9yIHRvb2xzIGluIHRoaXMgTGljZW5zZSBBZ3JlZW1lbnQgYXJlIGxpY2Vuc2VkLCBub3Qgc29sZC5cclxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbmxldCBTa2VsZXRvbiA9IGNjLkNsYXNzKHtcclxuICAgIG5hbWU6ICdjYy5Ta2VsZXRvbicsXHJcbiAgICBleHRlbmRzOiBjYy5Bc3NldCxcclxuXHJcbiAgICBjdG9yICgpIHtcclxuICAgICAgICB0aGlzLl9iaW5kcG9zZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl91bmlxdWVCaW5kUG9zZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9qb2ludFBhdGhzID0gW107XHJcbiAgICB9LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBfbW9kZWw6IGNjLk1vZGVsLFxyXG4gICAgICAgIF9qb2ludEluZGljZXM6IFtdLFxyXG4gICAgICAgIF9za2luSW5kZXg6IC0xLFxyXG5cclxuICAgICAgICBqb2ludFBhdGhzOiB7XHJcbiAgICAgICAgICAgIGdldCAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fam9pbnRQYXRocztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmluZHBvc2VzOiB7XHJcbiAgICAgICAgICAgIGdldCAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluZHBvc2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bmlxdWVCaW5kUG9zZXM6IHtcclxuICAgICAgICAgICAgZ2V0ICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91bmlxdWVCaW5kUG9zZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vZGVsOiB7XHJcbiAgICAgICAgICAgIGdldCAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgbGV0IG5vZGVzID0gdGhpcy5fbW9kZWwubm9kZXM7XHJcbiAgICAgICAgbGV0IGpvaW50SW5kaWNlcyA9IHRoaXMuX2pvaW50SW5kaWNlcztcclxuICAgICAgICBsZXQgam9pbnRQYXRocyA9IHRoaXMuX2pvaW50UGF0aHM7XHJcbiAgICAgICAgbGV0IGJpbmRwb3NlcyA9IHRoaXMuX2JpbmRwb3NlcztcclxuICAgICAgICBsZXQgdW5pcXVlQmluZFBvc2VzID0gdGhpcy5fdW5pcXVlQmluZFBvc2VzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgam9pbnRJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gbm9kZXNbam9pbnRJbmRpY2VzW2ldXTtcclxuICAgICAgICAgICAgam9pbnRQYXRoc1tpXSA9IG5vZGUucGF0aDtcclxuICAgICAgICAgICAgaWYgKG5vZGUudW5pcXVlQmluZFBvc2UpIHtcclxuICAgICAgICAgICAgICAgIGJpbmRwb3Nlc1tpXSA9IHVuaXF1ZUJpbmRQb3Nlc1tpXSA9IG5vZGUudW5pcXVlQmluZFBvc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kcG9zZXNbaV0gPSBub2RlLmJpbmRwb3NlW3RoaXMuX3NraW5JbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2MuU2tlbGV0b24gPSBtb2R1bGUuZXhwb3J0cyA9IFNrZWxldG9uOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxyXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcclxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxyXG5cclxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXHJcbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxudmFyIFNrZWxldG9uID0gY2MuQ2xhc3Moe1xuICAgIG5hbWU6ICdjYy5Ta2VsZXRvbicsXG4gICAgZXh0ZW5kczogY2MuQXNzZXQsXG5cbiAgICBjdG9yOiBmdW5jdGlvbiBjdG9yKCkge1xuICAgICAgICB0aGlzLl9iaW5kcG9zZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fdW5pcXVlQmluZFBvc2VzID0gW107XG4gICAgICAgIHRoaXMuX2pvaW50UGF0aHMgPSBbXTtcbiAgICB9LFxuXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIF9tb2RlbDogY2MuTW9kZWwsXG4gICAgICAgIF9qb2ludEluZGljZXM6IFtdLFxuICAgICAgICBfc2tpbkluZGV4OiAtMSxcblxuICAgICAgICBqb2ludFBhdGhzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fam9pbnRQYXRocztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYmluZHBvc2VzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluZHBvc2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bmlxdWVCaW5kUG9zZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91bmlxdWVCaW5kUG9zZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQoKSB7XG4gICAgICAgIHZhciBub2RlcyA9IHRoaXMuX21vZGVsLm5vZGVzO1xuICAgICAgICB2YXIgam9pbnRJbmRpY2VzID0gdGhpcy5fam9pbnRJbmRpY2VzO1xuICAgICAgICB2YXIgam9pbnRQYXRocyA9IHRoaXMuX2pvaW50UGF0aHM7XG4gICAgICAgIHZhciBiaW5kcG9zZXMgPSB0aGlzLl9iaW5kcG9zZXM7XG4gICAgICAgIHZhciB1bmlxdWVCaW5kUG9zZXMgPSB0aGlzLl91bmlxdWVCaW5kUG9zZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgam9pbnRJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2pvaW50SW5kaWNlc1tpXV07XG4gICAgICAgICAgICBqb2ludFBhdGhzW2ldID0gbm9kZS5wYXRoO1xuICAgICAgICAgICAgaWYgKG5vZGUudW5pcXVlQmluZFBvc2UpIHtcbiAgICAgICAgICAgICAgICBiaW5kcG9zZXNbaV0gPSB1bmlxdWVCaW5kUG9zZXNbaV0gPSBub2RlLnVuaXF1ZUJpbmRQb3NlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaW5kcG9zZXNbaV0gPSBub2RlLmJpbmRwb3NlW3RoaXMuX3NraW5JbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY2MuU2tlbGV0b24gPSBtb2R1bGUuZXhwb3J0cyA9IFNrZWxldG9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtORFUydGxiR1YwYjI0dWFuTWlYU3dpYm1GdFpYTWlPbHNpVTJ0bGJHVjBiMjRpTENKall5SXNJa05zWVhOeklpd2libUZ0WlNJc0ltVjRkR1Z1WkhNaUxDSkJjM05sZENJc0ltTjBiM0lpTENKZlltbHVaSEJ2YzJWeklpd2lYM1Z1YVhGMVpVSnBibVJRYjNObGN5SXNJbDlxYjJsdWRGQmhkR2h6SWl3aWNISnZjR1Z5ZEdsbGN5SXNJbDl0YjJSbGJDSXNJazF2WkdWc0lpd2lYMnB2YVc1MFNXNWthV05sY3lJc0lsOXphMmx1U1c1a1pYZ2lMQ0pxYjJsdWRGQmhkR2h6SWl3aVoyVjBJaXdpWW1sdVpIQnZjMlZ6SWl3aWRXNXBjWFZsUW1sdVpGQnZjMlZ6SWl3aWJXOWtaV3dpTENKdmJreHZZV1FpTENKdWIyUmxjeUlzSW1wdmFXNTBTVzVrYVdObGN5SXNJbWtpTENKc1pXNW5kR2dpTENKdWIyUmxJaXdpY0dGMGFDSXNJblZ1YVhGMVpVSnBibVJRYjNObElpd2lZbWx1WkhCdmMyVWlMQ0p0YjJSMWJHVWlMQ0psZUhCdmNuUnpJbDBzSW0xaGNIQnBibWR6SWpvaU96dEJRVUZCT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCTUVKQkxFbEJRVWxCTEZkQlFWZERMRWRCUVVkRExFdEJRVWdzUTBGQlV6dEJRVU53UWtNc1ZVRkJUU3hoUVVSak8wRkJSWEJDUXl4aFFVRlRTQ3hIUVVGSFNTeExRVVpST3p0QlFVbHdRa01zVVVGS2IwSXNhMEpCU1ZvN1FVRkRTaXhoUVVGTFF5eFZRVUZNTEVkQlFXdENMRVZCUVd4Q08wRkJRMEVzWVVGQlMwTXNaMEpCUVV3c1IwRkJkMElzUlVGQmVFSTdRVUZEUVN4aFFVRkxReXhYUVVGTUxFZEJRVzFDTEVWQlFXNUNPMEZCUTBnc1MwRlNiVUk3T3p0QlFWVndRa01zWjBKQlFWazdRVUZEVWtNc1owSkJRVkZXTEVkQlFVZFhMRXRCUkVnN1FVRkZVa01zZFVKQlFXVXNSVUZHVUR0QlFVZFNReXh2UWtGQldTeERRVUZETEVOQlNFdzdPMEZCUzFKRExHOUNRVUZaTzBGQlExSkRMR1ZCUkZFc2FVSkJRMFE3UVVGRFNDeDFRa0ZCVHl4TFFVRkxVQ3hYUVVGYU8wRkJRMGc3UVVGSVR5eFRRVXhLTzBGQlZWSlJMRzFDUVVGWE8wRkJRMUJFTEdWQlJFOHNhVUpCUTBFN1FVRkRTQ3gxUWtGQlR5eExRVUZMVkN4VlFVRmFPMEZCUTBnN1FVRklUU3hUUVZaSU8wRkJaVkpYTEhsQ1FVRnBRanRCUVVOaVJpeGxRVVJoTEdsQ1FVTk9PMEZCUTBnc2RVSkJRVThzUzBGQlMxSXNaMEpCUVZvN1FVRkRTRHRCUVVoWkxGTkJabFE3UVVGdlFsSlhMR1ZCUVU4N1FVRkRTRWdzWlVGRVJ5eHBRa0ZEU1R0QlFVTklMSFZDUVVGUExFdEJRVXRNTEUxQlFWbzdRVUZEU0R0QlFVaEZPMEZCY0VKRExFdEJWbEU3TzBGQmNVTndRbE1zVlVGeVEyOUNMRzlDUVhGRFZqdEJRVU5PTEZsQlFVbERMRkZCUVZFc1MwRkJTMVlzVFVGQlRDeERRVUZaVlN4TFFVRjRRanRCUVVOQkxGbEJRVWxETEdWQlFXVXNTMEZCUzFRc1lVRkJlRUk3UVVGRFFTeFpRVUZKUlN4aFFVRmhMRXRCUVV0T0xGZEJRWFJDTzBGQlEwRXNXVUZCU1ZFc1dVRkJXU3hMUVVGTFZpeFZRVUZ5UWp0QlFVTkJMRmxCUVVsWExHdENRVUZyUWl4TFFVRkxWaXhuUWtGQk0wSTdRVUZEUVN4aFFVRkxMRWxCUVVsbExFbEJRVWtzUTBGQllpeEZRVUZuUWtFc1NVRkJTVVFzWVVGQllVVXNUVUZCYWtNc1JVRkJlVU5FTEVkQlFYcERMRVZCUVRoRE8wRkJRekZETEdkQ1FVRkpSU3hQUVVGUFNpeE5RVUZOUXl4aFFVRmhReXhEUVVGaUxFTkJRVTRzUTBGQldEdEJRVU5CVWl4MVFrRkJWMUVzUTBGQldDeEpRVUZuUWtVc1MwRkJTME1zU1VGQmNrSTdRVUZEUVN4blFrRkJTVVFzUzBGQlMwVXNZMEZCVkN4RlFVRjVRanRCUVVOeVFsWXNNRUpCUVZWTkxFTkJRVllzU1VGQlpVd3NaMEpCUVdkQ1N5eERRVUZvUWl4SlFVRnhRa1VzUzBGQlMwVXNZMEZCZWtNN1FVRkRTQ3hoUVVaRUxFMUJSMHM3UVVGRFJGWXNNRUpCUVZWTkxFTkJRVllzU1VGQlpVVXNTMEZCUzBjc1VVRkJUQ3hEUVVGakxFdEJRVXRrTEZWQlFXNUNMRU5CUVdZN1FVRkRTRHRCUVVOS08wRkJRMG83UVVGeVJHMUNMRU5CUVZRc1EwRkJaanM3UVVGM1JFRmlMRWRCUVVkRUxGRkJRVWdzUjBGQll6WkNMRTlCUVU5RExFOUJRVkFzUjBGQmFVSTVRaXhSUVVFdlFpSXNJbVpwYkdVaU9pSkRRMU5yWld4bGRHOXVMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5b3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaXBjY2x4dUlFTnZjSGx5YVdkb2RDQW9ZeWtnTWpBeE55MHlNREU0SUZocFlXMWxiaUJaWVdwcElGTnZablIzWVhKbElFTnZMaXdnVEhSa0xseHlYRzVjY2x4dUlHaDBkSEE2THk5M2QzY3VZMjlqYjNNdVkyOXRYSEpjYmx4eVhHNGdVR1Z5YldsemMybHZiaUJwY3lCb1pYSmxZbmtnWjNKaGJuUmxaQ3dnWm5KbFpTQnZaaUJqYUdGeVoyVXNJSFJ2SUdGdWVTQndaWEp6YjI0Z2IySjBZV2x1YVc1bklHRWdZMjl3ZVZ4eVhHNGdiMllnZEdocGN5QnpiMlowZDJGeVpTQmhibVFnWVhOemIyTnBZWFJsWkNCbGJtZHBibVVnYzI5MWNtTmxJR052WkdVZ0tIUm9aU0JjSWxOdlpuUjNZWEpsWENJcExDQmhJR3hwYldsMFpXUXNYSEpjYmlBZ2QyOXliR1IzYVdSbExDQnliM2xoYkhSNUxXWnlaV1VzSUc1dmJpMWhjM05wWjI1aFlteGxMQ0J5WlhadlkyRmliR1VnWVc1a0lHNXZiaTFsZUdOc2RYTnBkbVVnYkdsalpXNXpaVnh5WEc0Z2RHOGdkWE5sSUVOdlkyOXpJRU55WldGMGIzSWdjMjlzWld4NUlIUnZJR1JsZG1Wc2IzQWdaMkZ0WlhNZ2IyNGdlVzkxY2lCMFlYSm5aWFFnY0d4aGRHWnZjbTF6TGlCWmIzVWdjMmhoYkd4Y2NseHVJQ0J1YjNRZ2RYTmxJRU52WTI5eklFTnlaV0YwYjNJZ2MyOW1kSGRoY21VZ1ptOXlJR1JsZG1Wc2IzQnBibWNnYjNSb1pYSWdjMjltZEhkaGNtVWdiM0lnZEc5dmJITWdkR2hoZENkelhISmNiaUFnZFhObFpDQm1iM0lnWkdWMlpXeHZjR2x1WnlCbllXMWxjeTRnV1c5MUlHRnlaU0J1YjNRZ1ozSmhiblJsWkNCMGJ5QndkV0pzYVhOb0xDQmthWE4wY21saWRYUmxMRnh5WEc0Z0lITjFZbXhwWTJWdWMyVXNJR0Z1WkM5dmNpQnpaV3hzSUdOdmNHbGxjeUJ2WmlCRGIyTnZjeUJEY21WaGRHOXlMbHh5WEc1Y2NseHVJRlJvWlNCemIyWjBkMkZ5WlNCdmNpQjBiMjlzY3lCcGJpQjBhR2x6SUV4cFkyVnVjMlVnUVdkeVpXVnRaVzUwSUdGeVpTQnNhV05sYm5ObFpDd2dibTkwSUhOdmJHUXVYSEpjYmlCWWFXRnRaVzRnV1dGcWFTQlRiMlowZDJGeVpTQkRieTRzSUV4MFpDNGdjbVZ6WlhKMlpYTWdZV3hzSUhKcFoyaDBjeUJ1YjNRZ1pYaHdjbVZ6YzJ4NUlHZHlZVzUwWldRZ2RHOGdlVzkxTGx4eVhHNWNjbHh1SUZSSVJTQlRUMFpVVjBGU1JTQkpVeUJRVWs5V1NVUkZSQ0JjSWtGVElFbFRYQ0lzSUZkSlZFaFBWVlFnVjBGU1VrRk9WRmtnVDBZZ1FVNVpJRXRKVGtRc0lFVllVRkpGVTFNZ1QxSmNjbHh1SUVsTlVFeEpSVVFzSUVsT1EweFZSRWxPUnlCQ1ZWUWdUazlVSUV4SlRVbFVSVVFnVkU4Z1ZFaEZJRmRCVWxKQlRsUkpSVk1nVDBZZ1RVVlNRMGhCVGxSQlFrbE1TVlJaTEZ4eVhHNGdSa2xVVGtWVFV5QkdUMUlnUVNCUVFWSlVTVU5WVEVGU0lGQlZVbEJQVTBVZ1FVNUVJRTVQVGtsT1JsSkpUa2RGVFVWT1ZDNGdTVTRnVGs4Z1JWWkZUbFFnVTBoQlRFd2dWRWhGWEhKY2JpQkJWVlJJVDFKVElFOVNJRU5QVUZsU1NVZElWQ0JJVDB4RVJWSlRJRUpGSUV4SlFVSk1SU0JHVDFJZ1FVNVpJRU5NUVVsTkxDQkVRVTFCUjBWVElFOVNJRTlVU0VWU1hISmNiaUJNU1VGQ1NVeEpWRmtzSUZkSVJWUklSVklnU1U0Z1FVNGdRVU5VU1U5T0lFOUdJRU5QVGxSU1FVTlVMQ0JVVDFKVUlFOVNJRTlVU0VWU1YwbFRSU3dnUVZKSlUwbE9SeUJHVWs5TkxGeHlYRzRnVDFWVUlFOUdJRTlTSUVsT0lFTlBUazVGUTFSSlQwNGdWMGxVU0NCVVNFVWdVMDlHVkZkQlVrVWdUMUlnVkVoRklGVlRSU0JQVWlCUFZFaEZVaUJFUlVGTVNVNUhVeUJKVGx4eVhHNGdWRWhGSUZOUFJsUlhRVkpGTGx4eVhHNGdLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2k5Y2NseHVYSEpjYmx4eVhHNXNaWFFnVTJ0bGJHVjBiMjRnUFNCall5NURiR0Z6Y3loN1hISmNiaUFnSUNCdVlXMWxPaUFuWTJNdVUydGxiR1YwYjI0bkxGeHlYRzRnSUNBZ1pYaDBaVzVrY3pvZ1kyTXVRWE56WlhRc1hISmNibHh5WEc0Z0lDQWdZM1J2Y2lBb0tTQjdYSEpjYmlBZ0lDQWdJQ0FnZEdocGN5NWZZbWx1WkhCdmMyVnpJRDBnVzEwN1hISmNiaUFnSUNBZ0lDQWdkR2hwY3k1ZmRXNXBjWFZsUW1sdVpGQnZjMlZ6SUQwZ1cxMDdYSEpjYmlBZ0lDQWdJQ0FnZEdocGN5NWZhbTlwYm5SUVlYUm9jeUE5SUZ0ZE8xeHlYRzRnSUNBZ2ZTeGNjbHh1WEhKY2JpQWdJQ0J3Y205d1pYSjBhV1Z6T2lCN1hISmNiaUFnSUNBZ0lDQWdYMjF2WkdWc09pQmpZeTVOYjJSbGJDeGNjbHh1SUNBZ0lDQWdJQ0JmYW05cGJuUkpibVJwWTJWek9pQmJYU3hjY2x4dUlDQWdJQ0FnSUNCZmMydHBia2x1WkdWNE9pQXRNU3hjY2x4dVhISmNiaUFnSUNBZ0lDQWdhbTlwYm5SUVlYUm9jem9nZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JuWlhRZ0tDa2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdVgycHZhVzUwVUdGMGFITTdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdJQ0I5TEZ4eVhHNGdJQ0FnSUNBZ0lHSnBibVJ3YjNObGN6b2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQm5aWFFnS0NrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11WDJKcGJtUndiM05sY3p0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNBZ0lIMHNYSEpjYmlBZ0lDQWdJQ0FnZFc1cGNYVmxRbWx1WkZCdmMyVnpPaUI3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR2RsZENBb0tTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdkR2hwY3k1ZmRXNXBjWFZsUW1sdVpGQnZjMlZ6TzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUNBZ2ZTeGNjbHh1SUNBZ0lDQWdJQ0J0YjJSbGJEb2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQm5aWFFnS0NrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11WDIxdlpHVnNPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnZlN4Y2NseHVYSEpjYmlBZ0lDQnZia3h2WVdRZ0tDa2dlMXh5WEc0Z0lDQWdJQ0FnSUd4bGRDQnViMlJsY3lBOUlIUm9hWE11WDIxdlpHVnNMbTV2WkdWek8xeHlYRzRnSUNBZ0lDQWdJR3hsZENCcWIybHVkRWx1WkdsalpYTWdQU0IwYUdsekxsOXFiMmx1ZEVsdVpHbGpaWE03WEhKY2JpQWdJQ0FnSUNBZ2JHVjBJR3B2YVc1MFVHRjBhSE1nUFNCMGFHbHpMbDlxYjJsdWRGQmhkR2h6TzF4eVhHNGdJQ0FnSUNBZ0lHeGxkQ0JpYVc1a2NHOXpaWE1nUFNCMGFHbHpMbDlpYVc1a2NHOXpaWE03WEhKY2JpQWdJQ0FnSUNBZ2JHVjBJSFZ1YVhGMVpVSnBibVJRYjNObGN5QTlJSFJvYVhNdVgzVnVhWEYxWlVKcGJtUlFiM05sY3p0Y2NseHVJQ0FnSUNBZ0lDQm1iM0lnS0d4bGRDQnBJRDBnTURzZ2FTQThJR3B2YVc1MFNXNWthV05sY3k1c1pXNW5kR2c3SUdrckt5a2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnNaWFFnYm05a1pTQTlJRzV2WkdWelcycHZhVzUwU1c1a2FXTmxjMXRwWFYwN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUdwdmFXNTBVR0YwYUhOYmFWMGdQU0J1YjJSbExuQmhkR2c3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNodWIyUmxMblZ1YVhGMVpVSnBibVJRYjNObEtTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JpYVc1a2NHOXpaWE5iYVYwZ1BTQjFibWx4ZFdWQ2FXNWtVRzl6WlhOYmFWMGdQU0J1YjJSbExuVnVhWEYxWlVKcGJtUlFiM05sTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR1ZzYzJVZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZbWx1WkhCdmMyVnpXMmxkSUQwZ2JtOWtaUzVpYVc1a2NHOXpaVnQwYUdsekxsOXphMmx1U1c1a1pYaGRPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnZlZ4eVhHNTlLVHRjY2x4dVhISmNibU5qTGxOclpXeGxkRzl1SUQwZ2JXOWtkV3hsTG1WNGNHOXlkSE1nUFNCVGEyVnNaWFJ2YmpzaVhYMD0iXX0=